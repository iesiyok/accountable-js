{"version":3,"sources":["sources://webpack/bootstrap","sources://./demos/Demo.ts","sources://external \"BitcoinJS\""],"names":[],"mappings":";QAAA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA,QAAQ,oBAAoB;QAC5B;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA,iBAAiB,4BAA4B;QAC7C;QACA;QACA,kBAAkB,2BAA2B;QAC7C;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;;QAEA;;QAEA;QACA;QACA,4CAA4C,oPAAoP;QAChS;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;QAEA;QACA;QACA;QACA;;;QAGA;;QAEA;QACA,iCAAiC;;QAEjC;QACA;QACA;QACA,KAAK;QACL;QACA;QACA;QACA,MAAM;QACN;;QAEA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,wBAAwB,kCAAkC;QAC1D,MAAM;QACN;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;QAEA;QACA,0CAA0C,oBAAoB,WAAW;;QAEzE;QACA;QACA;QACA;QACA,g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","file":"js/demos-legacy.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"demos\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({\"electrum-client\":\"electrum-client\",\"lang-de-po\":\"lang-de-po\",\"lang-en-po\":\"lang-en-po\",\"lang-es-po\":\"lang-es-po\",\"lang-fr-po\":\"lang-fr-po\",\"lang-nl-po\":\"lang-nl-po\",\"lang-ru-po\":\"lang-ru-po\",\"lang-uk-po\":\"lang-uk-po\",\"lang-zh-po\":\"lang-zh-po\"}[chunkId]||chunkId) + \"-legacy.js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n \t\t\t\tif (script.src.indexOf(window.location.origin + '/') !== 0) {\n \t\t\t\t\tscript.crossOrigin = \"anonymous\";\n \t\t\t\t}\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([4,\"chunk-vendors\",\"chunk-common\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import { State, PostMessageRpcClient } from '@nimiq/rpc';\nimport HubApi from '../client/HubApi';\nimport {\n    SimpleRequest,\n    Account,\n    CheckoutRequest,\n    SimpleResult,\n    SignTransactionRequest,\n    RenameRequest,\n    SignMessageRequest,\n    ExportRequest,\n    Cashlink,\n    RpcResult,\n    CreateCashlinkRequest,\n    SignBtcTransactionRequest,\n    CashlinkTheme,\n    RequestType,\n    SetupSwapRequest,\n} from '../src/lib/PublicRequestTypes';\nimport { RedirectRequestBehavior, PopupRequestBehavior } from '../client/RequestBehavior';\nimport { Utf8Tools } from '@nimiq/utils';\nimport { WalletType } from '../src/lib/Constants';\nimport { WalletStore } from '../src/lib/WalletStore';\n\n// BitcoinJS is defined as a global variable in BitcoinJS.min.js loaded by demos/index.html\ndeclare global {\n    const BitcoinJS: typeof import('bitcoinjs-lib');\n}\n\nclass Demo {\n    public static run() {\n        const keyguardOrigin = location.origin === 'https://hub.nimiq-testnet.com'\n            ? 'https://keyguard.nimiq-testnet.com'\n            : `${location.protocol}//${location.hostname}:8000`;\n        const demo = new Demo(keyguardOrigin);\n        // @ts-ignore (Property 'demo' does not exist on type 'Window')\n        window.demo = demo;\n\n        [\n            RequestType.ADD_ADDRESS,\n            RequestType.CHANGE_PASSWORD,\n            RequestType.CHECKOUT,\n            RequestType.CHOOSE_ADDRESS,\n            RequestType.EXPORT,\n            RequestType.LOGIN,\n            RequestType.LOGOUT,\n            RequestType.MIGRATE,\n            RequestType.ONBOARD,\n            RequestType.RENAME,\n            RequestType.SIGNUP,\n            RequestType.SIGN_MESSAGE,\n            RequestType.SIGN_TRANSACTION,\n        ].forEach((requestType) => {\n            demo.client.on(requestType, (result: RpcResult, state: State) => {\n                console.log('Hub result', result);\n                console.log('State', state);\n\n                document.querySelector('#result').textContent = JSON.stringify(result);\n            }, (error: Error, state: State) => {\n                console.error('Hub error', error);\n                console.log('State', state);\n\n                document.querySelector('#result').textContent = `Error: ${error.message || error}`;\n            });\n        });\n        demo.client.checkRedirectResponse();\n\n        document.querySelectorAll('input[name=\"popup-vs-redirect\"]').forEach((input: HTMLInputElement) => {\n            input.addEventListener('change', (event) => {\n                const value = (event.target as HTMLInputElement).value;\n                demo.setClientBehavior(value);\n            });\n        });\n        demo.setClientBehavior(\n            (document.querySelector('input[name=\"popup-vs-redirect\"]:checked') as HTMLInputElement).value);\n\n        document.querySelector('button#checkout').addEventListener('click', async () => {\n            await checkout(await generateCheckoutRequest());\n        });\n\n        document.querySelector('button#multi-checkout').addEventListener('click', async () => {\n            await checkout(await generateCheckoutRequest(/* multiCheckout */ true));\n        });\n\n        const $returnLinkCheckbox = document.querySelector('#cashlink-return-link') as HTMLInputElement;\n        $returnLinkCheckbox.addEventListener('change', () => {\n            (document.querySelector('#cashlink-skip-sharing-container') as HTMLElement).style.display =\n                $returnLinkCheckbox.checked ? 'block' : 'none';\n        });\n\n        const themeSelector = document.querySelector('#cashlink-theme') as HTMLSelectElement;\n        Object.entries(CashlinkTheme).forEach(([themeName, themeId]) => {\n            // filter out entries added by typescript for reverse mapping\n            if (typeof themeId !== 'number') return;\n            const option = document.createElement('option');\n            option.text = themeName;\n            option.value = themeId.toString();\n            themeSelector.add(option);\n        });\n\n        document.querySelector('button#create-cashlink').addEventListener('click', async () => {\n            try {\n                let value: number | undefined =\n                    parseInt((document.querySelector('#cashlink-value') as HTMLInputElement).value);\n                value = !Number.isNaN(value) ? value : undefined;\n\n                let message: string | undefined =\n                    (document.querySelector('#cashlink-message') as HTMLInputElement).value;\n                message = !!message ? message : undefined;\n\n                const autoTruncateMessage: boolean =\n                    (document.querySelector('#cashlink-auto-truncate-message') as HTMLInputElement).checked;\n\n                let theme: CashlinkTheme | undefined = Number.parseInt(themeSelector.value);\n                theme = !Number.isNaN(theme) ? theme : undefined;\n\n                let request: CreateCashlinkRequest = {\n                    appName: 'Hub Demos',\n                    value,\n                    message,\n                    autoTruncateMessage,\n                    theme,\n                };\n\n                const useSelectedAddress = (document.querySelector(\n                    '#cashlink-use-selected-address') as HTMLInputElement).checked;\n                if (useSelectedAddress) {\n                    const $addressRadio = document.querySelector('input[name=\"address\"]:checked');\n                    if (!$addressRadio) {\n                        alert('You have no account to send a cashlink from, create an account first (signup)');\n                        throw new Error('No account found');\n                    }\n                    request = {\n                        ...request,\n                        senderAddress: ($addressRadio as HTMLInputElement).dataset.address,\n                        senderBalance: 5e5, // just set an arbitrary balance for testing\n                    };\n                }\n\n                const returnLink = $returnLinkCheckbox.checked;\n                if (returnLink) {\n                    const skipSharing = (document.querySelector(\n                        '#cashlink-skip-sharing') as HTMLInputElement).checked;\n                    request = {\n                        ...request,\n                        returnLink,\n                        skipSharing,\n                    };\n                }\n\n                const result = await demo.client.createCashlink(request, demo._defaultBehavior as PopupRequestBehavior);\n                console.log('Result', result);\n                document.querySelector('#result').textContent = `Cashlink created${result.link\n                    ? `: ${result.link}`\n                    : ''\n                }`;\n            } catch (e) {\n                console.error(e);\n                document.querySelector('#result').textContent = `Error: ${e.message || e}`;\n            }\n        });\n\n        document.querySelector('button#choose-address').addEventListener('click', async () => {\n            try {\n                const result = await demo.client.chooseAddress({ appName: 'Hub Demos' }, demo._defaultBehavior);\n                console.log('Result', result);\n                document.querySelector('#result').textContent = `Address was chosen: ${result ? result.address : '-'}`;\n            } catch (e) {\n                console.error(e);\n                document.querySelector('#result').textContent = `Error: ${e.message || e}`;\n            }\n        });\n\n        document.querySelector('button#choose-address-and-btc').addEventListener('click', async () => {\n            try {\n                const result = await demo.client.chooseAddress({ appName: 'Hub Demos', returnBtcAddress: true }, demo._defaultBehavior);\n                console.log('Result', result);\n                document.querySelector('#result').textContent = `Address was chosen: ${result ? result.address : '-'}`;\n            } catch (e) {\n                console.error(e);\n                document.querySelector('#result').textContent = `Error: ${e.message || e}`;\n            }\n        });\n\n        document.querySelector('button#sign-transaction').addEventListener('click', async () => {\n            const txRequest = generateSignTransactionRequest();\n            try {\n                const result = await demo.client.signTransaction(\n                    new Promise<SignTransactionRequest>((resolve) => {\n                        window.setTimeout(() => resolve(txRequest), 2000);\n                    }),\n                    demo._defaultBehavior,\n                );\n                console.log('Result', result);\n                document.querySelector('#result').textContent = 'TX signed';\n            } catch (e) {\n                console.error(e);\n                document.querySelector('#result').textContent = `Error: ${e.message || e}`;\n            }\n        });\n\n        document.querySelector('button#onboard').addEventListener('click', async () => {\n            try {\n                const result = await demo.client.onboard({ appName: 'Hub Demos' }, demo._defaultBehavior);\n                console.log('Result', result);\n                document.querySelector('#result').textContent = 'Onboarding completed!';\n            } catch (e) {\n                console.error(e);\n                document.querySelector('#result').textContent = `Error: ${e.message || e}`;\n            }\n        });\n\n        document.querySelector('button#create').addEventListener('click', async () => {\n            try {\n                const result = await demo.client.signup({ appName: 'Hub Demos' }, demo._defaultBehavior);\n                console.log('Result', result);\n                document.querySelector('#result').textContent = 'New account & address created';\n            } catch (e) {\n                console.error(e);\n                document.querySelector('#result').textContent = `Error: ${e.message || e}`;\n            }\n        });\n\n        document.querySelector('button#login').addEventListener('click', async () => {\n            try {\n                const result = await demo.client.login({ appName: 'Hub Demos' }, demo._defaultBehavior);\n                console.log('Result', result);\n                document.querySelector('#result').textContent = 'Account imported';\n            } catch (e) {\n                console.error(e);\n                document.querySelector('#result').textContent = `Error: ${e.message || e}`;\n            }\n        });\n\n        function generateSignTransactionRequest(): SignTransactionRequest {\n            const $radio = document.querySelector('input[name=\"address\"]:checked');\n            if (!$radio) {\n                alert('You have no account to send a tx from, create an account first (signup)');\n                throw new Error('No account found');\n            }\n            const sender = ($radio as HTMLElement).dataset.address;\n            const value = parseInt((document.querySelector('#value') as HTMLInputElement).value, 10) || 1337;\n            const fee = parseInt((document.querySelector('#fee') as HTMLInputElement).value, 10) || 0;\n            const txData = (document.querySelector('#data') as HTMLInputElement).value || '';\n            const validityStartHeight = (document.querySelector('#validitystartheight') as HTMLInputElement).value\n                || '1234';\n\n            return {\n                appName: 'Hub Demos',\n                sender,\n                recipient: 'NQ63 U7XG 1YYE D6FA SXGG 3F5H X403 NBKN JLDU',\n                value,\n                fee,\n                extraData: Utf8Tools.stringToUtf8ByteArray(txData),\n                validityStartHeight: parseInt(validityStartHeight, 10),\n            };\n        }\n\n        async function generateCheckoutRequest(multiCheckout?: boolean): Promise<CheckoutRequest> {\n            const nimTxValue = parseInt((document.querySelector('#value') as HTMLInputElement).value, 10) || 1337;\n            const nimTxFee = parseInt((document.querySelector('#fee') as HTMLInputElement).value, 10) || 0;\n            const nimTxData = (document.querySelector('#data') as HTMLInputElement).value || '';\n\n            let sender: string | undefined;\n            const useSelectedAddress = (document.getElementById(\n                'checkout-use-selected-address') as HTMLInputElement).checked;\n            if (useSelectedAddress) {\n                const $addressRadio = document.querySelector('input[name=\"address\"]:checked');\n                if (!$addressRadio) {\n                    alert('You have no account to checkout with, create an account first (signup)');\n                    throw new Error('No account found');\n                }\n                sender = ($addressRadio as HTMLElement).dataset.address;\n            }\n            const forceSender = (document.getElementById('checkout-force-sender') as HTMLInputElement).checked;\n\n            const isPointOfSale = (document.getElementById('checkout-is-point-of-sale') as HTMLInputElement).checked;\n\n            if (!multiCheckout) {\n                // v1 checkout: nim only\n                return {\n                    appName: 'Hub Demos',\n                    shopLogoUrl: `${location.origin}/nimiq.png`,\n                    sender,\n                    forceSender,\n                    recipient: 'NQ63 U7XG 1YYE D6FA SXGG 3F5H X403 NBKN JLDU',\n                    value: nimTxValue,\n                    fee: nimTxFee,\n                    extraData: Utf8Tools.stringToUtf8ByteArray(nimTxData),\n                    isPointOfSale,\n                };\n            } else {\n                const now = Date.now();\n                return {\n                    version: 2,\n                    appName: 'Hub Demos',\n                    shopLogoUrl: `${location.origin}/nimiq.png`,\n                    callbackUrl: `${location.origin}/callback.html`,\n                    csrf: 'dummy-csrf-token',\n                    time: now,\n                    fiatCurrency: 'EUR',\n                    fiatAmount: 24.99,\n                    isPointOfSale,\n                    paymentOptions: [\n                        {\n                            currency: HubApi.Currency.BTC,\n                            type: HubApi.PaymentType.DIRECT,\n                            amount: '.00029e8',\n                            vendorMarkup: .01,\n                            expires: now + 3 * 60000, // 15 minutes\n                            protocolSpecific: {\n                                feePerByte: 2, // 2 sat per byte\n                                recipient: '17w6ar5SqXFGr786WjGHB8xyu48eujHaBe', // Unicef\n                            },\n                        },\n                        {\n                            currency: HubApi.Currency.NIM,\n                            type: HubApi.PaymentType.DIRECT,\n                            amount: nimTxValue.toString(),\n                            vendorMarkup: 0,\n                            expires: now + 3 * 60000, // 15 minutes\n                            protocolSpecific: {\n                                sender,\n                                forceSender,\n                                fee: nimTxFee,\n                                extraData: nimTxData,\n                            },\n                        },\n                        {\n                            currency: HubApi.Currency.ETH,\n                            type: HubApi.PaymentType.DIRECT,\n                            amount: '.0091e18',\n                            expires: now + 3 * 60000, // 15 minutes\n                            protocolSpecific: {\n                                gasLimit: 21000,\n                                gasPrice: '2e9',\n                                recipient: '0xa4725d6477644286b354288b51122a808389be83', // the water project\n                            },\n                        },\n                    ],\n                };\n            }\n        }\n\n        async function checkout(txRequest: CheckoutRequest) {\n            try {\n                const result = await demo.client.checkout(txRequest, demo._defaultBehavior);\n                console.log('Result', result);\n                document.querySelector('#result').textContent = 'TX signed';\n            } catch (e) {\n                console.error(e);\n                document.querySelector('#result').textContent = `Error: ${e.message || e}`;\n            }\n        }\n\n        document.querySelector('button#sign-message').addEventListener('click', async () => {\n            const request: SignMessageRequest = {\n                appName: 'Hub Demos',\n                // signer: 'NQ63 U7XG 1YYE D6FA SXGG 3F5H X403 NBKN JLDU',\n                message: (document.querySelector('#message') as HTMLInputElement).value || undefined,\n            };\n            try {\n                const result = await demo.client.signMessage(request, demo._defaultBehavior);\n                console.log('Result', result);\n                document.querySelector('#result').textContent = 'MSG signed: ' + request.message;\n            } catch (e) {\n                console.error(e);\n                document.querySelector('#result').textContent = `Error: ${e.message || e}`;\n            }\n        });\n\n        document.querySelector('button#sign-message-with-account').addEventListener('click', async () => {\n            const $radio = document.querySelector('input[name=\"address\"]:checked');\n            if (!$radio) {\n                alert('You have no account to sign a message by, create an account first (signup)');\n                throw new Error('No account found');\n            }\n            const signer = ($radio as HTMLElement).dataset.address;\n\n            const request: SignMessageRequest = {\n                appName: 'Hub Demos',\n                signer,\n                message: (document.querySelector('#message') as HTMLInputElement).value || undefined,\n            };\n\n            try {\n                const result = await demo.client.signMessage(request, demo._defaultBehavior);\n                console.log('Result', result);\n                document.querySelector('#result').textContent = 'MSG signed: ' + request.message;\n            } catch (e) {\n                console.error(e);\n                document.querySelector('#result').textContent = `Error: ${e.message || e}`;\n            }\n        });\n\n        document.querySelector('button#sign-message-with-tabs').addEventListener('click', async () => {\n            const $radio = document.querySelector('input[name=\"address\"]:checked');\n            const signer = $radio && ($radio as HTMLElement).dataset.address || undefined;\n\n            const request: SignMessageRequest = {\n                appName: 'Hub Demos',\n                signer,\n                message: `This is a\\n\\tmessage\\n\\twith tabs.\\n\\n\\t\\tTouble tab!`,\n            };\n\n            try {\n                const result = await demo.client.signMessage(request, demo._defaultBehavior);\n                console.log('Result', result);\n                document.querySelector('#result').textContent = 'MSG signed: ' + request.message;\n            } catch (e) {\n                console.error(e);\n                document.querySelector('#result').textContent = `Error: ${e.message || e}`;\n            }\n        });\n\n        document.querySelector('button#migrate').addEventListener('click', async () => {\n            try {\n                const result = await demo.client.migrate(demo._defaultBehavior);\n                console.log('Result', result);\n                document.querySelector('#result').textContent = 'Migrated';\n            } catch (e) {\n                console.error(e);\n                document.querySelector('#result').textContent = `Error: ${e.message || e}`;\n            }\n        });\n\n        document.querySelector('button#activate-btc')!.addEventListener('click', async () => {\n            const $radio = document.querySelector('input[name=\"address\"]:checked');\n            if (!$radio) {\n                alert('You have no account to activate BTC for, create an account first (signup)');\n                throw new Error('No account found');\n            }\n            const accountId = $radio.closest('ul')!.closest('li')!.querySelector('button')!.dataset.walletId!;\n\n            const wallet = await WalletStore.Instance.get(accountId);\n            if (!wallet) throw new Error('Account not found');\n\n            if (wallet.btcXPub || wallet.btcAddresses.external.length || wallet.btcAddresses.internal.length) {\n                if (!confirm('Btc support is already activated for the selected account. Do you want to clear the '\n                    + 'account\\'s Bitcoin metadata and re-activate BTC support?')) {\n                    document.querySelector('#result')!.textContent = 'Activation cancelled';\n                    return;\n                }\n                wallet.btcXPub = undefined;\n                wallet.btcAddresses = { external: [], internal: [] };\n                await WalletStore.Instance.put(wallet);\n            }\n\n            try {\n                const result = await demo.client.activateBitcoin({\n                    appName: 'Hub Demos',\n                    accountId,\n                }, demo._defaultBehavior);\n                console.log('Result', result);\n                document.querySelector('#result')!.textContent = 'Activated account: ' + JSON.stringify(result);\n            } catch (e) {\n                console.error(e);\n                document.querySelector('#result')!.textContent = `Error: ${e.message || e}`;\n            }\n        });\n\n        document.querySelector('button#sign-btc-transaction').addEventListener('click', async () => {\n            const $radio = document.querySelector('input[name=\"address\"]:checked');\n            if (!$radio) {\n                alert('You have no account to send a tx from, create an account first (signup)');\n                throw new Error('No account found');\n            }\n            const accountId = $radio.closest('ul')!.closest('li')!.querySelector('button')!.dataset.walletId!;\n\n            const account = (await demo.list()).find((wallet) => wallet.accountId === accountId)!;\n            if (account.type === WalletType.LEGACY) {\n                alert('Cannot sign BTC transactions with a legacy account');\n                throw new Error('Cannot use legacy account');\n            }\n\n            const senderAddress = account.btcAddresses ? account.btcAddresses.external[0] : null;\n            if (!senderAddress) {\n                alert('No BTC address found in account, activate Bitcoin for this account first');\n                throw new Error('No BTC address found');\n            }\n\n            const txRequest: SignBtcTransactionRequest = {\n                appName: 'Hub Demos',\n                accountId,\n                inputs: [{\n                    address: senderAddress,\n                    transactionHash: 'ef4aaf6087d0cc48ff09355d715c257078467ca4d9dd75a20824e70a78fb43cc',\n                    outputIndex: 0,\n                    outputScript: BitcoinJS.address.toOutputScript(senderAddress, BitcoinJS.networks.testnet).toString('hex'),\n                    value: Math.round(0.010 * 1e8),\n                }],\n                output: {\n                    address: 'tb1qegge25w53hyv4lyye4w3ntsj9gg5j2l7fej0ze',\n                    value: Math.round(0.009 * 1e8),\n                    label: 'Paul McCartney',\n                },\n                // changeOutput: {\n                //     keyPath: 'm/49\\'/1\\'/0\\'/1/0',\n                //     address: '',\n                //     value: 0,\n                // },\n            };\n            try {\n                const result = await demo.client.signBtcTransaction(txRequest, demo._defaultBehavior as PopupRequestBehavior);\n                console.log('Result', result);\n                document.querySelector('#result').textContent = 'Signed: ' + result.serializedTx;\n            } catch (e) {\n                console.error(e);\n                document.querySelector('#result').textContent = `Error: ${e.message || e}`;\n            }\n        });\n\n        document.querySelector('button#setup-swap.nim-to-btc').addEventListener('click', async () => {\n            // const $radio = document.querySelector('input[name=\"address\"]:checked');\n            // if (!$radio) {\n            //     alert('You have no account to send a tx from, create an account first (signup)');\n            //     throw new Error('No account found');\n            // }\n            // const accountId = $radio.closest('ul').closest('li').querySelector('button').dataset.walletId;\n            const accountId = '44012bb58ff5';\n\n            const account = (await demo.list()).find((wallet) => wallet.accountId === accountId);\n            if (!account) {\n                alert('Account for the demo swap not found. Currently only Sren has this account.');\n                throw new Error('Account not found');\n            }\n\n            if (account.type === WalletType.LEGACY) {\n                alert('Cannot sign BTC transactions with a legacy account');\n                throw new Error('Cannot use legacy account');\n            }\n\n            const redeemAddress = account.btcAddresses ? account.btcAddresses.external[0] : null;\n            if (!redeemAddress) {\n                alert('No BTC address found in account, activate Bitcoin for this account first');\n                throw new Error('No BTC address found');\n            }\n\n            const request: SetupSwapRequest = {\n                appName: 'Hub Demos',\n                fund: {\n                    type: 'NIM',\n                    sender: account.addresses[0].address,\n                    value: 2709.79904 * 1e5,\n                    fee: 0,\n                    extraData: 'anlssPDlYuJ5R8hvRtmP3EVjywhona4vd7BI3MCOFNcxBOoUIitb4QMZNYm9TPJr6LpTyq2WJSLYwtBr6jaor6LrJjgvNFcr4gEAEWWF',\n                    validityStartHeight: 1140000,\n                },\n                redeem: {\n                    type: 'BTC',\n                    input: {\n                        transactionHash: 'ef4aaf6087d0cc48ff09355d715c257078467ca4d9dd75a20824e70a78fb43cc',\n                        outputIndex: 0,\n                        outputScript: BitcoinJS.address.toOutputScript('tb1q0hzaqgespv4a67wrc843gkjd5s668l6arm820utp32m9nss90ejq83klw7', BitcoinJS.networks.testnet).toString('hex'),\n                        witnessScript: '6382012088a820193589bd4cf26be8ba53caad962522d8c2d06bea36a8afa2eb26382f34572be28876a91484eb9bcbd90ce7d3360992259e4b9b818215a96088ac67044934565fb17576a91457f4babc23d2369572394cf80f28daeb9c3b58f188ac68',\n                        value: Math.round(0.001004 * 1e8),\n                    },\n                    output: {\n                        address: redeemAddress,\n                        value: 0.001 * 1e8,\n                    },\n                },\n\n                fiatCurrency: 'eur',\n                nimFiatRate: 0.00267,\n                btcFiatRate: 8662.93,\n                serviceNetworkFee: 10.73171 * 1e5,\n                serviceExchangeFee: 5.40878 * 1e5,\n                nimiqAddresses: account.addresses.map((address) => ({\n                    address: address.address,\n                    balance: Math.round(Math.random() * 10000 + 3000) * 1e5,\n                })),\n                bitcoinAccount: {\n                    balance: Math.round((Math.random() * 0.001 + 0.001) * 1e8),\n                },\n            };\n            try {\n                const result = await demo.client.setupSwap(request, demo._defaultBehavior as PopupRequestBehavior);\n                console.log('Result', result);\n                document.querySelector('#result').innerHTML = `Signed successfully!<br>NIM:&nbsp;${result.nim.serializedTx}<br>BTC:&nbsp;${result.btc.serializedTx}`;\n            } catch (e) {\n                console.error(e);\n                document.querySelector('#result').textContent = `Error: ${e.message || e}`;\n            }\n        });\n\n        document.querySelector('button#setup-swap.btc-to-nim').addEventListener('click', async () => {\n            // const $radio = document.querySelector('input[name=\"address\"]:checked');\n            // if (!$radio) {\n            //     alert('You have no account to send a tx from, create an account first (signup)');\n            //     throw new Error('No account found');\n            // }\n            // const accountId = $radio.closest('ul').closest('li').querySelector('button').dataset.walletId;\n            const accountId = '44012bb58ff5';\n\n            const account = (await demo.list()).find((wallet) => wallet.accountId === accountId);\n            if (!account) {\n                alert('Account for the demo swap not found. Currently only Sren has this account.');\n                throw new Error('Account not found');\n            }\n\n            if (account.type === WalletType.LEGACY) {\n                alert('Cannot sign BTC transactions with a legacy account');\n                throw new Error('Cannot use legacy account');\n            }\n\n            const refundAddress = account.btcAddresses ? account.btcAddresses.external[0] : null;\n            if (!refundAddress) {\n                alert('No BTC address found in account, activate Bitcoin for this account first');\n                throw new Error('No BTC address found');\n            }\n\n            const request: SetupSwapRequest = {\n                appName: 'Hub Demos',\n                fund: {\n                    type: 'BTC',\n                    inputs: [{\n                        address: refundAddress,\n                        transactionHash: 'ef4aaf6087d0cc48ff09355d715c257078467ca4d9dd75a20824e70a78fb43cc',\n                        outputIndex: 0,\n                        outputScript: BitcoinJS.address.toOutputScript(refundAddress, BitcoinJS.networks.testnet).toString('hex'),\n                        value: 0.00076136 * 1e8,\n                    }],\n                    output: {\n                        address: 'tb1qkg69q2pmq8yncjusk2h77vru99rk8n6pcxdxzzzseupaqc2x64ts4uhrj8',\n                        value: 0.00075736 * 1e8,\n                    },\n                    refundAddress: refundAddress,\n                    htlcScript: '6382012088a8204b268b25df99a2edb5d9fb59d4ad56402f429a47c751069918a9790743c16b788876a9146ec1c15aa31a3fe4da55ed81fc264a56bae75c7888ac6704cb53565fb17576a91484eb9bcbd90ce7d3360992259e4b9b818215a96088ac68',\n                },\n                redeem: {\n                    type: 'NIM',\n                    sender: 'NQ32 71G4 AQ88 RVA4 4XYC CH39 V2AG HTAM S0YL',\n                    recipient: account.addresses[0].address,\n                    value: 2000 * 1e5,\n                    fee: 0,\n                    validityStartHeight: 1140135,\n                    htlcData: 'aJ2uL3ewSNzAjhTXMQTqFCIrW+FqeWyw8OVi4nlHyG9G2Y/cRWPLCANLJosl35mi7bXZ+1nUrVZAL0KaR8dRBpkYqXkHQ8FreAEAEWYf',\n                },\n\n                fiatCurrency: 'eur',\n                nimFiatRate: 0.00267,\n                btcFiatRate: 8662.93,\n                serviceNetworkFee: 0.000004 * 1e8,\n                serviceExchangeFee: Math.round(0.00000151168 * 1e8),\n                nimiqAddresses: account.addresses.map((address) => ({\n                    address: address.address,\n                    balance: Math.round(Math.random() * 5000) * 1e5,\n                })),\n                bitcoinAccount: {\n                    balance: Math.round((Math.random() * 0.001 + 0.001) * 1e8),\n                },\n            };\n            try {\n                const result = await demo.client.setupSwap(request, demo._defaultBehavior as PopupRequestBehavior);\n                console.log('Result', result);\n                document.querySelector('#result').innerHTML = `Signed successfully!<br>NIM:&nbsp;${result.nim.serializedTx}<br>BTC:&nbsp;${result.btc.serializedTx}`;\n            } catch (e) {\n                console.error(e);\n                document.querySelector('#result').textContent = `Error: ${e.message || e}`;\n            }\n        });\n\n        document.querySelector('button#list-keyguard-keys').addEventListener('click', () => demo.listKeyguard());\n        document.querySelector('button#setup-legacy-accounts').addEventListener('click',\n            () => demo.setupLegacyAccounts());\n        document.querySelector('button#list-accounts').addEventListener('click', async () => demo.updateAccounts());\n\n        document.querySelectorAll('button').forEach((button) => button.disabled = false);\n        (document.querySelector('button#list-accounts') as HTMLButtonElement).click();\n    } // run\n\n    private static async _createIframe(baseUrl): Promise<HTMLIFrameElement> {\n        return new Promise<HTMLIFrameElement>((resolve, reject) => {\n            const $iframe = document.createElement('iframe');\n            $iframe.name = 'Nimiq Keyguard Setup IFrame';\n            $iframe.style.display = 'none';\n            document.body.appendChild($iframe);\n            $iframe.src = `${baseUrl}/demos/setup.html`;\n            $iframe.onload = () => resolve($iframe);\n            $iframe.onerror = reject;\n        });\n    }\n\n    private _iframeClient: PostMessageRpcClient | null;\n    private _keyguardBaseUrl: string;\n    private _hubApi: HubApi;\n    private _defaultBehavior?: RedirectRequestBehavior | PopupRequestBehavior;\n\n    constructor(keyguardBaseUrl: string) {\n        this._iframeClient = null;\n        this._keyguardBaseUrl = keyguardBaseUrl;\n    }\n\n    public async changePassword(accountId: string) {\n        try {\n            const result = await this.client.changePassword(\n                this._createChangePasswordRequest(accountId),\n                this._defaultBehavior,\n            );\n            console.log('Result', result);\n            document.querySelector('#result').textContent = 'Successfully changed Password';\n        } catch (e) {\n            console.error(e);\n            document.querySelector('#result').textContent = `Error: ${e.message || e}`;\n        }\n    }\n\n    public _createChangePasswordRequest(accountId: string): SimpleRequest {\n        return {\n            appName: 'Hub Demos',\n            accountId,\n        } as SimpleRequest;\n    }\n\n    public async addAccount(accountId: string) {\n        try {\n            const result = await this.client.addAddress(\n                this._createAddAccountRequest(accountId),\n                this._defaultBehavior,\n            );\n            console.log('Result', result);\n            document.querySelector('#result').textContent = 'Account added';\n        } catch (e) {\n            console.error(e);\n            document.querySelector('#result').textContent = `Error: ${e.message || e}`;\n        }\n    }\n\n    public _createAddAccountRequest(accountId: string): SimpleRequest {\n        return {\n            appName: 'Hub Demos',\n            accountId,\n        } as SimpleRequest;\n    }\n\n    public async rename(accountId: string, account: string) {\n        try {\n            const result = await this.client.rename(\n                this._createRenameRequest(accountId, account),\n                this._defaultBehavior,\n            );\n            console.log('Result', result);\n            document.querySelector('#result').textContent = 'Done renaming account';\n        } catch (e) {\n            console.error(e);\n            document.querySelector('#result').textContent = `Error: ${e.message || e}`;\n        }\n    }\n\n    public _createRenameRequest(accountId: string, address: string ): RenameRequest {\n        return {\n            appName: 'Hub Demos',\n            accountId,\n            address,\n        };\n    }\n\n    public async updateAccounts() {\n        const cashlinks = await this.cashlinks();\n        let $ul = document.querySelector('#cashlinks');\n        let cashlinksHtml = '';\n\n        cashlinks.forEach((cashlink) => {\n            cashlinksHtml += `\n            <li>\n                ${cashlink.address}\n                <button class=\"cashlink-manage\" data-cashlink-address=\"${cashlink.address}\">manage</button>\n            </li>`;\n        });\n\n        $ul.innerHTML = cashlinksHtml;\n        document.querySelectorAll('button.cashlink-manage').forEach((element) => {\n            element.addEventListener('click', () => this.client.manageCashlink({\n                appName: 'Hub Demos',\n                cashlinkAddress: (element as HTMLElement).dataset.cashlinkAddress!,\n            }));\n        });\n\n        const wallets = await this.list();\n        console.log('Accounts in Manager:', wallets);\n\n        $ul = document.querySelector('#accounts');\n        let html = '';\n\n        wallets.forEach((wallet) => {\n            html += `<li>${wallet.label}<br>\n                        <button class=\"export\" data-wallet-id=\"${wallet.accountId}\">Export</button>\n                        <button class=\"export-file\" data-wallet-id=\"${wallet.accountId}\">File</button>\n                        <button class=\"export-words\" data-wallet-id=\"${wallet.accountId}\">Words</button>\n                        <button class=\"change-password\" data-wallet-id=\"${wallet.accountId}\">Ch. Pass.</button>\n                        ${wallet.type !== 0\n                            ? `<button class=\"add-account\" data-wallet-id=\"${wallet.accountId}\">+ Addr</button>`\n                            : ''}\n                        <button class=\"rename\" data-wallet-id=\"${wallet.accountId}\">Rename</button>\n                        <button class=\"logout\" data-wallet-id=\"${wallet.accountId}\">Logout</button>\n                        <ul>`;\n            wallet.addresses.forEach((acc) => {\n                html += `\n                    <li>\n                        <label>\n                            <input type=\"radio\"\n                                name=\"address\"\n                                data-address=\"${acc.address}\"\n                                data-wallet-id=\"${wallet.accountId}\">\n                            ${acc.label}\n                            <button class=\"rename\" data-wallet-id=\"${wallet.accountId}\" data-address=\"${acc.address}\">\n                                Rename\n                            </button>\n                        </label>\n                    </li>\n                `;\n            });\n            wallet.contracts.forEach((con) => {\n                html += `\n                    <li>\n                        <label>\n                            <input type=\"radio\"\n                                name=\"address\"\n                                data-address=\"${con.address}\"\n                                data-wallet-id=\"${wallet.accountId}\">\n                            <strong>Contract</strong> ${con.label}\n                            <button class=\"rename\" data-wallet-id=\"${wallet.accountId}\" data-address=\"${con.address}\">\n                                Rename\n                            </button>\n                        </label>\n                    </li>\n                `;\n            });\n            html += '</ul></li>';\n        });\n\n        $ul.innerHTML = html;\n        if (document.querySelector('input[name=\"address\"]')) {\n            (document.querySelector('input[name=\"address\"]') as HTMLInputElement).checked = true;\n        }\n        document.querySelectorAll('button.export').forEach((element) => {\n            element.addEventListener('click', async () => this.export((element as HTMLElement).dataset.walletId));\n        });\n        document.querySelectorAll('button.export-file').forEach((element) => {\n            element.addEventListener('click', async () => this.exportFile((element as HTMLElement).dataset.walletId));\n        });\n        document.querySelectorAll('button.export-words').forEach((element) => {\n            element.addEventListener('click', async () => this.exportWords((element as HTMLElement).dataset.walletId));\n        });\n        document.querySelectorAll('button.change-password').forEach((element) => {\n            element.addEventListener('click',\n                async () => this.changePassword((element as HTMLElement).dataset.walletId));\n        });\n        document.querySelectorAll('button.rename').forEach((element) => {\n            element.addEventListener('click',\n                async () => this.rename(\n                    (element as HTMLElement).dataset.walletId,\n                    (element as HTMLElement).dataset.address,\n                ),\n            );\n        });\n        document.querySelectorAll('button.add-account').forEach((element) => {\n            element.addEventListener('click', async () => this.addAccount((element as HTMLElement).dataset.walletId));\n        });\n        document.querySelectorAll('button.logout').forEach((element) => {\n            element.addEventListener('click', async () => this.logout((element as HTMLElement).dataset.walletId));\n        });\n    }\n\n    public setClientBehavior(behavior: string) {\n        if (behavior === 'popup') {\n            this._defaultBehavior = undefined; // use the clients default behavior which is popup\n        } else if (behavior === 'redirect') {\n            this._defaultBehavior = new RedirectRequestBehavior();\n        }\n    }\n\n    public async startIframeClient(baseUrl: string): Promise<PostMessageRpcClient> {\n        if (this._iframeClient) return this._iframeClient;\n        const $iframe = await Demo._createIframe(baseUrl);\n        if (!$iframe.contentWindow) throw new Error(`IFrame contentWindow is ${typeof $iframe.contentWindow}`);\n        this._iframeClient = new PostMessageRpcClient($iframe.contentWindow, '*');\n        await this._iframeClient.init();\n        return this._iframeClient;\n    }\n\n    public async startPopupClient(url: string, windowName: string): Promise<PostMessageRpcClient> {\n        const $popup = window.open(url, windowName);\n        const popupClient = new PostMessageRpcClient($popup, '*');\n        await popupClient.init();\n        return popupClient;\n    }\n\n    public async listKeyguard() {\n        const client = await this.startIframeClient(this._keyguardBaseUrl);\n        const keys = await client.call('list');\n        console.log('Keys in Keyguard:', keys);\n        document.querySelector('#result').textContent = 'Keys listed in console';\n        return keys;\n    }\n\n    public async setupLegacyAccounts() {\n        const client = await this.startPopupClient(\n            `${this._keyguardBaseUrl}/demos/setup.html`, 'Nimiq Keyguard Setup Popup',\n        );\n        const result = await client.call('setUpLegacyAccounts');\n        client.close();\n        // @ts-ignore Property '_target' is private and only accessible within class 'PostMessageRpcClient'.\n        client._target.close();\n        console.log('Legacy Account setup:', result);\n        document.querySelector('#result').textContent = 'Legacy account stored';\n    }\n\n    public async list(): Promise<Account[]> {\n        return await this.client.list();\n    }\n\n    public async cashlinks(): Promise<Cashlink[]> {\n        return await this.client.cashlinks();\n    }\n\n    public async logout(accountId: string): Promise<SimpleResult> {\n        try {\n            const result = await this.client.logout(this._createLogoutRequest(accountId), this._defaultBehavior as PopupRequestBehavior);\n            console.log('Result', result);\n            document.querySelector('#result').textContent = 'Account removed';\n            return result;\n        } catch (e) {\n            console.error(e);\n            document.querySelector('#result').textContent = `Error: ${e.message || e}`;\n        }\n    }\n\n    public _createLogoutRequest(accountId: string): SimpleRequest {\n        return {\n            appName: 'Hub Demos',\n            accountId,\n        } as SimpleRequest;\n    }\n\n    public export(accountId: string) {\n        this._export({\n            appName: 'Hub Demos',\n            accountId,\n        });\n    }\n\n    public exportFile(accountId: string) {\n        this._export({\n            appName: 'Hub Demos',\n            accountId,\n            fileOnly: true,\n        });\n    }\n\n    public exportWords(accountId: string) {\n        this._export({\n            appName: 'Hub Demos',\n            accountId,\n            wordsOnly: true,\n        });\n    }\n\n    private async _export(request: ExportRequest) {\n        try {\n            const result = await this.client.export(request, this._defaultBehavior as PopupRequestBehavior);\n            console.log('Result', result);\n            if (result.fileExported) {\n                document.querySelector('#result').textContent = result.wordsExported\n                    ? 'Export sucessful'\n                    : 'File exported';\n            } else {\n                document.querySelector('#result').textContent = result.wordsExported\n                    ? 'Words exported'\n                    : 'nothing exported';\n            }\n        } catch (e) {\n            console.error(e);\n            document.querySelector('#result').textContent = `Error: ${e.message || e}`;\n        }\n    }\n\n    public get client() {\n        return this._hubApi || (this._hubApi = new HubApi(location.origin));\n    }\n} // class Demo\n\nDemo.run();\n","module.exports = BitcoinJS;"],"sourceRoot":""}