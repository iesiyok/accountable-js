{"version":3,"sources":["sources://./node_modules/@nimiq/ledger-api/dist/high-level-api/lazy-chunk-request-derive-addresses-nimiq.es.js"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAqE;AAC8B;AAC/D;;AAEpC,0CAA0C,iEAAY;AACtD;AACA;AACA,oBAAoB,kEAAgB;AACpC;AACA;AACA;AACA,oBAAoB,wEAAc,mBAAmB,sDAAI;AACzD;AACA;AACA;AACA,0BAA0B,4DAAU,CAAC,2DAAS,8CAA8C,QAAQ,IAAI,eAAe;AACvH;AACA;AACA;AACA;AACA,0DAA0D;AAC1D;AACA;AACA;AACA;AACA;AACA,mBAAmB,UAAU;AAC7B;AACA,iCAAiC,mBAAmB;AACpD;AACA;AACA;AACA;;AAEe,0FAA2B,EAAC;AAC3C","file":"js/30.js","sourcesContent":["import { R as RequestNimiq } from './lazy-chunk-request-nimiq.es.js';\nimport { RequestTypeNimiq, parseBip32Path, Coin, ErrorState, ErrorType } from './ledger-api.es.js';\nimport './lazy-chunk-request.es.js';\n\nclass RequestDeriveAddressesNimiq extends RequestNimiq {\n    constructor(pathsToDerive, expectedWalletId) {\n        super(expectedWalletId);\n        this.type = RequestTypeNimiq.DERIVE_ADDRESSES;\n        this.pathsToDerive = pathsToDerive;\n        for (const keyPath of pathsToDerive) {\n            try {\n                if (parseBip32Path(keyPath).coin !== Coin.NIMIQ)\n                    throw new Error('Not a Nimiq bip32 path');\n            }\n            catch (e) {\n                throw new ErrorState(ErrorType.REQUEST_ASSERTION_FAILED, `Invalid keyPath ${keyPath}: ${e.message || e}`, this);\n            }\n        }\n    }\n    async call(transport) {\n        const api = await this._getLowLevelApi(transport); // throws LOADING_DEPENDENCIES_FAILED on failure\n        const addressRecords = [];\n        for (const keyPath of this.pathsToDerive) {\n            if (this.cancelled)\n                return addressRecords;\n            // eslint-disable-next-line no-await-in-loop\n            const { address } = await api.getAddress(keyPath, true, // validate\n            false);\n            addressRecords.push({ address, keyPath });\n        }\n        return addressRecords;\n    }\n}\n\nexport default RequestDeriveAddressesNimiq;\n//# sourceMappingURL=lazy-chunk-request-derive-addresses-nimiq.es.js.map\n"],"sourceRoot":""}