{"version":3,"sources":["sources://./src/views/SetupSwapLedger.vue","webpack-generated:///./src/views/SetupSwapLedger.vue?893a","webpack-generated:///./src/views/SetupSwapLedger.vue?cb6f","webpack-generated:///./src/views/SetupSwapLedger.vue?0204","sources://./src/lib/bitcoin/BitcoinLedgerUtils.ts","webpack-generated:///./src/views/SetupSwapLedger.vue?8a09","webpack:///./src/views/SetupSwapLedger.vue?a935","webpack-generated:///./src/views/SetupSwapLedger.vue?79e9","webpack-generated:///./src/views/SetupSwapLedger.vue?0a73"],"names":[],"mappings":"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AI,CAAC,KAAK,CAAC,QAAQ;YAAE,OAAO;QAC/C,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,KAAK,CAAC,8DAAc,CAAC,CAAC,CAAC;IAChD,CAAC;CACJ;AAhpBW;IAAP,iDAAM;mDAA+D;AATrD,eAAe;IAdnC,wEAAS,CAAC,EAAC,UAAU,EAAE;YACpB,0EAAS;YACT,4EAAU;YACV,wEAAQ;YACR,0EAAS;YACT,oEAAM;YACN,4EAAU;YACV,sEAAO;YACP,oFAAc;YACd,4FAAkB;YAClB,kFAAY;YACZ,gFAAW;YACX,0EAAQ;SACX,EAAC,CAAC;GACkB,eAAe,CAypBnC;AAzpBoB,8EAAe;;;;;;;;;;;;;ACxZpC;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,2BAA2B;AAChC;AACA;AACA;AACA,SAAS,SAAS,+CAA+C,EAAE;AACnE;AACA;AACA,oBAAoB,mBAAmB;AACvC,iBAAiB,mBAAmB;AACpC;AACA;AACA;AACA;AACA,+CAA+C,IAAc;AAC7D,iBAAiB;AACjB;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,oCAAoC;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA,2BAA2B;AAC3B;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,KAAkC;AAC3E;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,8BAA8B,mCAAmC;AACjE;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,OAAO,GAAkB,cAAc;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA,qCAAqC;AACrC;AACA;AACA;AACA,+BAA+B;AAC/B;AACA,2BAA2B;AAC3B;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D,IAAiB;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC,+CAA+C,2BAA2B;AAC1E;AACA;AACA;AACA,4CAA4C,IAA4C;AACxF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,KAAmB;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC,+CAA+C,2BAA2B;AAC1E;AACA;AACA;AACA,4CAA4C,GAA6B;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D,KAAiB;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA,2DAA2D,KAAU;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC,+CAA+C,2BAA2B;AAC1E;AACA;AACA;AACA,4CAA4C,GAA6B;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,uBAAuB;AAClE,qDAAqD,KAAY;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA,2BAA2B;AAC3B;AACA;AACA;AACA,qBAAqB;AACrB;AACA,iBAAiB;AACjB;AACA;AACA;AACA,WAAW;AACX;AACA,8BAA8B,iCAAiC;AAC/D;AACA;AACA,mBAAmB,+BAA+B;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,mCAAmC;AAClE;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,mCAAmC;AAC1E,yCAAyC,SAAS,uBAAuB,EAAE;AAC3E,gEAAgE,IAAS;AACzE;AACA;AACA,uCAAuC,mCAAmC;AAC1E,yCAAyC,SAAS,wBAAwB,EAAE;AAC5E;AACA;AACA;AACA;AACA,6CAA6C,KAAW;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,mBAAmB,6BAA6B;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,uBAAuB,kCAAkC;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA,0CAA0C;AAC1C,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,+BAA+B;AAC7D;AACA;AACA,mBAAmB,+BAA+B;AAClD;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,sDAAsD,IAAS;AAC/D,+BAA+B,SAAS,uBAAuB,EAAE;AACjE;AACA;AACA;AACA;AACA;AACA,mBAAmB,6BAA6B;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,2BAA2B,6BAA6B;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA,2BAA2B,8BAA8B;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,wBAAwB,YAAY;AACpC;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,iBAAiB,SAAS,0BAA0B,EAAE;AACtD;AACA;AACA;AACA;AACA,iCAAiC,yCAAyC;AAC1E;AACA;AACA,2BAA2B,sCAAsC;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B,6BAA6B;AAC7B;AACA;AACA;AACA,mCAAmC,mCAAmC;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,mCAAmC;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,2CAA2C;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A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","file":"js/swap-ledger-legacy.js","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Mixins } from 'vue-property-decorator';\nimport { Getter } from 'vuex-class';\nimport {\n    SmallPage,\n    PageHeader,\n    PageBody,\n    Identicon,\n    Amount,\n    FiatAmount,\n    Tooltip,\n    ArrowRightIcon,\n    CheckmarkSmallIcon,\n} from '@nimiq/vue-components';\nimport SetupSwap, { SwapSetupInfo } from './SetupSwap.vue';\nimport SetupSwapSuccess, { SwapHtlcInfo } from './SetupSwapSuccess.vue';\nimport StatusScreen from '../components/StatusScreen.vue';\nimport GlobalClose from '../components/GlobalClose.vue';\nimport LedgerUi from '../components/LedgerUi.vue';\nimport LedgerApi, {\n    EventType as LedgerApiEventType,\n    State as LedgerApiState,\n    StateType as LedgerApiStateType,\n    RequestTypeNimiq as LedgerApiRequestTypeNimiq,\n    RequestTypeBitcoin as LedgerApiRequestTypeBitcoin,\n    TransactionInfoNimiq as LedgerNimiqTransactionInfo,\n    TransactionInfoBitcoin as LedgerBitcoinTransactionInfo,\n    Network as LedgerApiNetwork,\n    getBip32Path,\n    Coin,\n} from '@nimiq/ledger-api';\nimport {\n    getBackgroundColorName as getIdenticonBackgroundColorName,\n    backgroundColors as identiconBackgroundColors,\n    colorNames as identiconColorNames,\n// @ts-ignore Could not find a declaration file for module '@nimiq/iqons'.\n} from '@nimiq/iqons';\nimport { SwapAsset } from '@nimiq/fastspot-api';\nimport Config from 'config';\nimport { SignedBtcTransaction } from '../lib/PublicRequestTypes';\nimport { WalletInfo } from '../lib/WalletInfo';\nimport { ERROR_CANCELED } from '../lib/Constants';\nimport { BTC_NETWORK_TEST } from '../lib/bitcoin/BitcoinConstants';\nimport { loadNimiq } from '../lib/Helpers';\nimport { loadBitcoinJS } from '../lib/bitcoin/BitcoinJSLoader';\nimport { getElectrumClient } from '../lib/bitcoin/ElectrumClient';\nimport { satoshisToCoins } from '../lib/bitcoin/BitcoinUtils';\nimport { prepareBitcoinTransactionForLedgerSigning } from '../lib/bitcoin/BitcoinLedgerUtils';\nimport LedgerSwapProxy from '../lib/LedgerSwapProxy';\n\ntype BalanceBarEntry = {\n    currency: SwapAsset,\n    background: string,\n    oldFiatBalance: number,\n    newFiatBalance: number,\n};\n\ntype SwapAmountInfo = {\n    myAmount: number,\n    theirAmount: number,\n    myTransactionFee: number,\n    fees: number,\n    currency: SwapAsset,\n    currencyDecimals: number,\n    fiatRate: number;\n    newBalance?: number,\n};\n\ntype SigningInfo = {\n    step: number,\n    totalSteps: number,\n    instructions: string,\n    recipient: string,\n    amount: number,\n    fee: number,\n    currency: SwapAsset,\n    currencyDecimals: number,\n};\n\n@Component({components: {\n    SmallPage,\n    PageHeader,\n    PageBody,\n    Identicon,\n    Amount,\n    FiatAmount,\n    Tooltip,\n    ArrowRightIcon,\n    CheckmarkSmallIcon,\n    StatusScreen,\n    GlobalClose,\n    LedgerUi,\n}})\nexport default class SetupSwapLedger extends Mixins(SetupSwap, SetupSwapSuccess) {\n    protected get State() {\n        return {\n            // super.State doesn't work\n            ...(this.constructor as any).superOptions.computed.State.get.call(this),\n            FINISHED: 'finished',\n        };\n    }\n\n    @Getter protected findWallet!: (id: string) => WalletInfo | undefined;\n    protected _account!: WalletInfo;\n    private readonly SwapAsset = SwapAsset;\n    private readonly LedgerApiStateType = LedgerApiStateType;\n    private _setupSwapPromise!: Promise<SwapSetupInfo>;\n    private nimiqLedgerAddressInfo?: { address: Nimiq.Address, label: string, balance: number, signerPath: string };\n    private _nimiqSwapProxyPromise?: Promise<LedgerSwapProxy>;\n    private ledgerInstructionsShown = false;\n    private ledgerApiStateType: LedgerApiStateType = LedgerApi.currentState.type;\n    private currentlySignedTransaction: LedgerNimiqTransactionInfo\n        | Parameters<typeof prepareBitcoinTransactionForLedgerSigning>[0]\n        | null = null;\n\n    protected async created() {\n        const { fund, redeem, nimiqAddresses, walletId } = this.request;\n\n        Promise.all([\n            // preload nimiq cryptography used in ledger api, LedgerSwapProxy and sendToNetwork\n            fund.type === SwapAsset.NIM || redeem.type === SwapAsset.NIM ? loadNimiq() : null,\n            // if we need to fund the proxy address, pre-initialize the nimiq network\n            fund.type === SwapAsset.NIM ? this.nimiqNetwork.getNetworkClient() : null,\n            // preload BitcoinJS and the electrum client used in prepareBitcoinTransactionForLedgerSigning\n            fund.type === SwapAsset.BTC || redeem.type === SwapAsset.BTC\n                ? loadBitcoinJS().then(getElectrumClient) : null,\n        ]).catch(() => void 0);\n\n        this._setupSwapPromise = new Promise((resolve) => this._setupSwap = resolve);\n\n        // existence checked by _hubApiHandler in RpcApi\n        this._account = this.findWallet(walletId)!;\n\n        if (fund.type === SwapAsset.NIM || redeem.type === SwapAsset.NIM) {\n            const nimiqLedgerAddress = fund.type === SwapAsset.NIM\n                ? fund.sender\n                : redeem.type === SwapAsset.NIM\n                    ? redeem.recipient\n                    : (() => { throw new Error('Unexpected'); })(); // should never happen\n            const nimiqLedgerAddressInfo = this._account.findContractByAddress(nimiqLedgerAddress)\n                || this._account.accounts.get(nimiqLedgerAddress.toUserFriendlyAddress());\n            if (!nimiqLedgerAddressInfo) {\n                this.$rpc.reject(new Error(`Unknown address ${nimiqLedgerAddress.toUserFriendlyAddress()}`));\n                return;\n            }\n            if (nimiqAddresses) {\n                // Use the provided balance as it's potentially more up to date. Existence of an entry for our address\n                // is ensured by RequestParser.\n                nimiqLedgerAddressInfo.balance = nimiqAddresses.find(\n                    ({ address }) => Nimiq.Address.fromAny(address).equals(nimiqLedgerAddress))!.balance;\n            } else {\n                nimiqLedgerAddressInfo.balance = nimiqLedgerAddressInfo.balance || 0;\n            }\n            const signerPath = this._account.findSignerForAddress(nimiqLedgerAddress)!.path;\n            this.nimiqLedgerAddressInfo = {\n                ...nimiqLedgerAddressInfo as Required<\n                    Pick<typeof nimiqLedgerAddressInfo, 'address' | 'label' | 'balance'>>,\n                signerPath,\n            };\n\n            // As the Ledger Nimiq app currently does not support signing HTLCs yet, we use a proxy in-memory key.\n            this._nimiqSwapProxyPromise = (async () => {\n                const swapValidityStartHeight = this.request.fund.type === SwapAsset.NIM\n                    ? this.request.fund.validityStartHeight\n                    : this.request.redeem.type === SwapAsset.NIM\n                        ? this.request.redeem.validityStartHeight\n                        : (() => { throw new Error('Unexpected'); })(); // should never happen\n                // Retrieve the proxy for this swap from the Ledger\n                const nimiqSwapProxy = await LedgerSwapProxy.create(\n                    swapValidityStartHeight,\n                    signerPath,\n                    this._account.keyId,\n                );\n\n                // Replace nim address by the proxy's address. Don't replace request.nimiqAddresses which should contain\n                // the original address for display.\n                if (fund.type === SwapAsset.NIM) {\n                    fund.sender = nimiqSwapProxy.address; // also defines htlc refundAddress in SetupSwapSuccess\n                } else if (redeem.type === SwapAsset.NIM) {\n                    redeem.recipient = nimiqSwapProxy.address; // also defines htlc redeemAddress in SetupSwapSuccess\n                }\n\n                return nimiqSwapProxy;\n            })();\n            // Catch errors to avoid uncaught promise rejections but ignore them and keep errors displayed in LedgerUi.\n            this._nimiqSwapProxyPromise.catch(() => void 0);\n        }\n\n        this._onLedgerApiStateChange = this._onLedgerApiStateChange.bind(this);\n        LedgerApi.on(LedgerApiEventType.STATE_CHANGE, this._onLedgerApiStateChange);\n    }\n\n    protected destroyed() {\n        this._isDestroyed = true;\n        LedgerApi.off(LedgerApiEventType.STATE_CHANGE, this._onLedgerApiStateChange);\n        LedgerApi.disconnect(\n            /* cancelRequest */ true,\n            /* requestTypesToDisconnect */ [\n                LedgerApiRequestTypeNimiq.GET_PUBLIC_KEY,\n                LedgerApiRequestTypeNimiq.SIGN_TRANSACTION,\n                LedgerApiRequestTypeBitcoin.SIGN_TRANSACTION,\n            ],\n        );\n    }\n\n    protected async _collectSwapSetupInfo(): Promise<SwapSetupInfo | null> {\n        // super._collectSwapSetupInfo doesn't work\n        const swapSetupInfo = await (this.constructor as any).superOptions.methods._collectSwapSetupInfo.call(this);\n        if (!swapSetupInfo) return null;\n\n        // Replace nim address by the proxy's address.\n        if (this._nimiqSwapProxyPromise) {\n            let nimiqSwapProxy: LedgerSwapProxy;\n            try {\n                nimiqSwapProxy = await this._nimiqSwapProxyPromise;\n            } catch (e) {\n                return null;\n            }\n            const proxyAddress = nimiqSwapProxy.address.serialize();\n            if (swapSetupInfo.fund.type === SwapAsset.NIM) {\n                swapSetupInfo.fund.sender = proxyAddress;\n                swapSetupInfo.fund.senderType = Nimiq.Account.Type.BASIC;\n            } else if (swapSetupInfo.redeem.type === SwapAsset.NIM) {\n                swapSetupInfo.redeem.recipient = proxyAddress;\n            }\n        }\n\n        return swapSetupInfo;\n    }\n\n    protected async _shouldConfirmSwap() {\n        if (this._isDestroyed) return false;\n        try {\n            // await first step of swap setup\n            const swapSetupInfo = await this._setupSwapPromise;\n            // Require user to connect and unlock his ledger which also shows that he intends to actually do the swap.\n            if (this._nimiqSwapProxyPromise) {\n                await this._nimiqSwapProxyPromise; // connects to Ledger within LedgerSwapProxy.create\n            } else if (swapSetupInfo.fund.type === SwapAsset.BTC || swapSetupInfo.redeem.type === SwapAsset.BTC) {\n                await LedgerApi.Bitcoin.getWalletId(Config.bitcoinNetwork === BTC_NETWORK_TEST\n                    ? LedgerApiNetwork.TESTNET\n                    : LedgerApiNetwork.MAINNET,\n                );\n            } else {\n                return false;\n            }\n        } catch (e) {\n            return false;\n        }\n        return !this._isDestroyed;\n    }\n\n    protected _getOasisRecipientPublicKey() {\n        throw new Error('Not implemented for Ledger');\n        return 'pubkey?';\n    }\n\n    protected async _signSwapTransactions(htlcInfo: SwapHtlcInfo)\n        : Promise<{ nim?: Nimiq.Transaction, nimProxy?: Nimiq.Transaction, btc?: SignedBtcTransaction, eur?: string }\n        | null> {\n        // Called from SetupSwapSuccess\n        if (this._isDestroyed) return null;\n        let swapSetupInfo: SwapSetupInfo;\n        let nimiqSwapProxy: LedgerSwapProxy | undefined;\n        let Buffer: typeof import('buffer').Buffer | undefined;\n        try {\n            [swapSetupInfo, nimiqSwapProxy] = await Promise.all([\n                this._setupSwapPromise,\n                this._nimiqSwapProxyPromise,\n                this.request.fund.type === SwapAsset.BTC || this.request.redeem.type === SwapAsset.BTC\n                    ? loadBitcoinJS() : null,\n            ]);\n            if (typeof BitcoinJS !== 'undefined') {\n                // note that buffer is marked as external module in vue.config.js and internally, the buffer bundled\n                // with BitcoinJS is used, therefore we retrieve it after having BitcoinJS loaded.\n                // TODO change this when we don't prebuild BitcoinJS anymore\n                Buffer = await import('buffer').then((module) => module.Buffer);\n            }\n        } catch (e) {\n            return null;\n        }\n\n        if (this._isDestroyed) return null;\n\n        // Step 1: collect transaction infos to sign\n\n        // Collect nimiq swap transaction info\n        let nimiqSwapTransactionInfo: LedgerNimiqTransactionInfo | undefined; // signed by proxy, not Ledger\n        let nimiqProxyTransactionInfo: LedgerNimiqTransactionInfo | undefined;\n        if (this.request.fund.type === SwapAsset.NIM\n            && swapSetupInfo.fund.type === SwapAsset.NIM\n            && htlcInfo.fund.type === SwapAsset.NIM\n            && this.nimiqLedgerAddressInfo\n            && nimiqSwapProxy) {\n            nimiqSwapTransactionInfo = {\n                value: swapSetupInfo.fund.value,\n                fee: swapSetupInfo.fund.fee,\n                network: Config.network,\n                ...nimiqSwapProxy.getHtlcCreationInfo(htlcInfo.fund.htlcData),\n            };\n            // funding tx from Ledger to proxy address\n            nimiqProxyTransactionInfo = {\n                sender: this.nimiqLedgerAddressInfo.address,\n                value: swapSetupInfo.fund.value,\n                network: Config.network,\n                ...nimiqSwapProxy.getFundingInfo(),\n            };\n        } else if (this.request.redeem.type === SwapAsset.NIM\n            && swapSetupInfo.redeem.type === SwapAsset.NIM\n            && htlcInfo.redeem.type === SwapAsset.NIM\n            && this.nimiqLedgerAddressInfo\n            && nimiqSwapProxy) {\n            // The htlc redeem tx currently has to be signed by the proxy but doesn't have to forward funds through it.\n            nimiqSwapTransactionInfo = {\n                sender: Nimiq.Address.fromString(htlcInfo.redeem.htlcAddress),\n                senderType: Nimiq.Account.Type.HTLC,\n                recipient: this.nimiqLedgerAddressInfo.address,\n                value: swapSetupInfo.redeem.value,\n                fee: swapSetupInfo.redeem.fee,\n                validityStartHeight: swapSetupInfo.redeem.validityStartHeight,\n                network: Config.network,\n            };\n        }\n\n        // Collect bitcoin swap transaction info\n        let bitcoinTransactionInfo: Parameters<typeof prepareBitcoinTransactionForLedgerSigning>[0] | undefined;\n        const bitcoinNetwork = typeof BitcoinJS !== 'undefined' && (Config.bitcoinNetwork === BTC_NETWORK_TEST\n            ? BitcoinJS.networks.testnet\n            : BitcoinJS.networks.bitcoin);\n        if (this.request.fund.type === SwapAsset.BTC\n            && swapSetupInfo.fund.type === SwapAsset.BTC\n            && htlcInfo.fund.type === SwapAsset.BTC\n            && bitcoinNetwork\n            && Buffer) {\n            const htlcAddress = BitcoinJS.payments.p2wsh({\n                witness: [Buffer.from(htlcInfo.fund.htlcScript)],\n                network: bitcoinNetwork,\n            }).address;\n\n            if (!htlcAddress) {\n                throw new Error('Cannot derive HTLC address from BTC HTLC script');\n            }\n\n            bitcoinTransactionInfo = {\n                inputs: swapSetupInfo.fund.inputs,\n                recipientOutput: {\n                    ...swapSetupInfo.fund.recipientOutput,\n                    address: htlcAddress,\n                },\n                ...(this.request.fund.changeOutput && swapSetupInfo.fund.changeOutput ? {\n                    changeOutput: {\n                        ...swapSetupInfo.fund.changeOutput,\n                        address: this.request.fund.changeOutput.address,\n                    },\n                } : {}),\n                locktime: swapSetupInfo.fund.locktime,\n            };\n        } else if (this.request.redeem.type === SwapAsset.BTC\n            && swapSetupInfo.redeem.type === SwapAsset.BTC\n            && htlcInfo.redeem.type === SwapAsset.BTC) {\n            bitcoinTransactionInfo = {\n                inputs: [{ // the htlc is our single input\n                    keyPath: swapSetupInfo.redeem.input.keyPath,\n                    transactionHash: htlcInfo.redeem.transactionHash,\n                    outputIndex: htlcInfo.redeem.outputIndex,\n                    witnessScript: Nimiq.BufferUtils.toHex(htlcInfo.redeem.htlcScript),\n                }],\n                recipientOutput: {\n                    ...swapSetupInfo.redeem.output,\n                    address: this.request.redeem.output.address,\n                },\n                // no change output\n            };\n        }\n\n        // prepare btc transaction for ledger signing\n        const preparedBitcoinTransactionInfoPromise = bitcoinTransactionInfo\n            && prepareBitcoinTransactionForLedgerSigning(bitcoinTransactionInfo);\n\n        // Step 2: sign transactions on the Ledger\n\n        let signedNimiqSwapTransaction: Nimiq.Transaction | undefined;\n        let signedNimiqProxyTransaction: Nimiq.Transaction | undefined;\n        let nimiqSendPromise: Promise<any> = Promise.resolve();\n        let signedBitcoinTransaction: BitcoinJS.Transaction | undefined;\n        let euroSettlement: string | undefined;\n        try {\n            if (this._isDestroyed) return null;\n\n            // First sign Nim transaction (if Nim is involved in the swap) as user is already connected to nimiq app and\n            // to give time for proxy funding.\n\n            if (swapSetupInfo.fund.type === SwapAsset.NIM && nimiqProxyTransactionInfo && this.nimiqLedgerAddressInfo) {\n                // send funding tx from Ledger to proxy address\n                this.currentlySignedTransaction = nimiqProxyTransactionInfo;\n                signedNimiqProxyTransaction = this.nimiqNetwork.getUnrelayedTransactions(nimiqProxyTransactionInfo)[0];\n                if (!signedNimiqProxyTransaction) {\n                    signedNimiqProxyTransaction = await LedgerApi.Nimiq.signTransaction(\n                        nimiqProxyTransactionInfo,\n                        this.nimiqLedgerAddressInfo.signerPath,\n                        this._account.keyId,\n                    );\n                }\n                // ignore broadcast errors. The Wallet will also try to send the tx\n                nimiqSendPromise = this.nimiqNetwork.sendToNetwork(signedNimiqProxyTransaction).catch(() => void 0);\n            } else if (swapSetupInfo.redeem.type === SwapAsset.NIM && nimiqSwapTransactionInfo) {\n                // For redeeming, the htlc swap transaction is signed by the proxy. Nonetheless, we let the user sign an\n                // unused dummy transaction for ux consistency. This transaction is signed from a keyPath which does not\n                // actually hold funds.\n                const dummyTransaction = {\n                    ...nimiqSwapTransactionInfo,\n                    senderType: undefined, // Ledgers can't sign htlc senders yet\n                };\n                this.currentlySignedTransaction = dummyTransaction;\n                await LedgerApi.Nimiq.signTransaction(\n                    dummyTransaction,\n                    // Any unused key path; We use the highest bip32 nimiq path here.\n                    getBip32Path({ coin: Coin.NIMIQ, accountIndex: 2 ** 31 - 1, addressIndex: 2 ** 31 - 1 }),\n                    this._account.keyId,\n                );\n            }\n\n            if (this._isDestroyed) return null;\n\n            // Sign the Btc transaction\n\n            if (bitcoinTransactionInfo && preparedBitcoinTransactionInfoPromise) {\n                let preparedBitcoinTransactionInfo: LedgerBitcoinTransactionInfo;\n                try {\n                    preparedBitcoinTransactionInfo = await preparedBitcoinTransactionInfoPromise;\n                } catch (e) {\n                    this.error = e.message || e;\n                    return null;\n                }\n\n                // Set the state to idle in case it wasn't set yet, as the LedgerApi event fires asynchronously, to\n                // avoid that the signing instructions already switch to the next request before it's being processed.\n                this.ledgerApiStateType = LedgerApiStateType.IDLE;\n                this.currentlySignedTransaction = bitcoinTransactionInfo;\n\n                signedBitcoinTransaction = BitcoinJS.Transaction.fromHex(\n                    await LedgerApi.Bitcoin.signTransaction(preparedBitcoinTransactionInfo));\n            }\n        } catch (e) {\n            // If cancelled reject. Otherwise just keep the ledger ui / error message displayed.\n            if (e.message.toLowerCase().indexOf('cancelled') !== -1) throw new Error(ERROR_CANCELED);\n            return null;\n        }\n\n        // Step 3: sign transactions not signed by Ledger\n\n        // Sign Nim swap transaction by proxy. Note that as we just created the proxy, we should still have the salt and\n        // therefore the transaction can be signed with the local proxy key without Ledger involvement.\n        if (nimiqSwapTransactionInfo && nimiqSwapProxy) {\n            signedNimiqSwapTransaction = await nimiqSwapProxy.signTransaction(nimiqSwapTransactionInfo);\n        }\n\n        // Set euro settlement\n        if (swapSetupInfo.fund.type === SwapAsset.EUR) {\n            // Nothing to sign for funding EUR\n            euroSettlement = '';\n        }\n\n        // Step 4: post process signed transactions\n\n        // set htlc witness for redeeming the BTC htlc. For Nimiq, the htlc proof is set in SetupSwapSuccess.\n        if (swapSetupInfo.redeem.type === SwapAsset.BTC\n            && htlcInfo.redeem.type === SwapAsset.BTC\n            && signedBitcoinTransaction) {\n            const htlcInput = signedBitcoinTransaction.ins[0];\n            // get signature and signer pub key from default witness generated by ledgerjs (see @ledgerhq/hw-app-btc\n            // createTransaction.js creation of the witness towards the end of createTransaction)\n            const [inputSignature, signerPubKey] = htlcInput.witness;\n\n            const witnessBytes = BitcoinJS.script.fromASM([\n                inputSignature.toString('hex'),\n                signerPubKey.toString('hex'),\n                // Use zero-bytes as a dummy secret which are replaced in the wallet once the swap secret is known\n                '0000000000000000000000000000000000000000000000000000000000000000',\n                'OP_1', // OP_1 (true) activates the redeem branch in the HTLC script\n                Nimiq.BufferUtils.toHex(htlcInfo.redeem.htlcScript),\n            ].join(' '));\n\n            const witnessStack = BitcoinJS.script.toStack(witnessBytes);\n            signedBitcoinTransaction.setWitness(0, witnessStack);\n        }\n\n        this.state = this.State.FINISHED;\n        await nimiqSendPromise;\n\n        return {\n            nim: signedNimiqSwapTransaction,\n            nimProxy: signedNimiqProxyTransaction,\n            btc: signedBitcoinTransaction && {\n                serializedTx: signedBitcoinTransaction.toHex(),\n                hash: signedBitcoinTransaction.getId(),\n            },\n            eur: euroSettlement,\n        };\n    }\n\n    protected _statusScreenActionHandler() {\n        window.location.reload();\n    }\n\n    // Getters for displaying information\n\n    protected get statusScreenTitle() {\n        switch (this.state) {\n            case this.State.FETCHING_SWAP_DATA_FAILED:\n                return this.$t('Swap Setup Failed') as string;\n            case this.State.SYNCING_FAILED:\n                return this.$t('Syncing Failed') as string;\n            default:\n                return ''; // don't display a title in small ui state\n        }\n    }\n\n    protected get statusScreenStatus() {\n        // Other than SetupSwapSuccess do no show a status for FETCHING_SWAP_DATA and SIGNING_TRANSACTIONS as during\n        // these states typically the LedgerUi is / was just active and the StatusScreen will fade.\n        if (this.state !== this.State.SYNCING) return '';\n        return this.$t('Syncing with Bitcoin network...') as string;\n    }\n\n    private get _fundingAmountInfo(): SwapAmountInfo {\n        const { fund: fundInfo, fundFees, bitcoinAccount, fundingFiatRate: fiatRate } = this.request;\n        const { type: currency } = fundInfo;\n        let currencyDecimals: number;\n        let myAmount: number; // what we are paying including fees\n        let myTransactionFee: number;\n        let newBalance: number | undefined;\n        switch (fundInfo.type) {\n            case SwapAsset.NIM:\n                currencyDecimals = 5;\n                myTransactionFee = fundInfo.fee;\n                myAmount = fundInfo.value + fundInfo.fee;\n                newBalance = this.nimiqLedgerAddressInfo!.balance - myAmount;\n                break;\n            case SwapAsset.BTC:\n                currencyDecimals = 8;\n                const { inputs, output, changeOutput } = fundInfo;\n                const inputsValue = inputs.reduce((sum, { value }) => sum + value, 0);\n                // inputs minus outputs\n                myTransactionFee = (inputsValue - output.value - (changeOutput ? changeOutput.value : 0));\n                myAmount = inputsValue - (changeOutput ? changeOutput.value : 0);\n                newBalance = bitcoinAccount ? bitcoinAccount.balance - myAmount : undefined;\n                break;\n            case SwapAsset.EUR:\n                currencyDecimals = 2;\n                myTransactionFee = fundInfo.fee;\n                myAmount = fundInfo.value + fundInfo.fee;\n                newBalance = undefined; // unknown and unused\n                break;\n            default:\n                throw new Error(`Unsupported currency ${currency}`);\n        }\n        const fees = myTransactionFee + fundFees.processing + fundFees.redeeming;\n        const theirAmount = myAmount - fees; // what the other party receives excluding fees\n        return { myAmount, theirAmount, myTransactionFee, fees, currency, currencyDecimals, newBalance, fiatRate };\n    }\n\n    private get _redeemingAmountInfo(): SwapAmountInfo {\n        const { redeem: redeemInfo, redeemFees, bitcoinAccount, redeemingFiatRate: fiatRate } = this.request;\n        const { type: currency } = redeemInfo;\n        let currencyDecimals: number;\n        let myAmount: number; // what we receive excluding fees\n        let myTransactionFee: number;\n        let newBalance: number | undefined;\n        switch (redeemInfo.type) {\n            case SwapAsset.NIM:\n                currencyDecimals = 5;\n                myAmount = redeemInfo.value;\n                myTransactionFee = redeemInfo.fee;\n                newBalance = this.nimiqLedgerAddressInfo!.balance + myAmount;\n                break;\n            case SwapAsset.BTC:\n                currencyDecimals = 8;\n                const { input, output } = redeemInfo;\n                myAmount = output.value;\n                myTransactionFee = input.value - output.value; // inputs minus outputs\n                newBalance = bitcoinAccount ? bitcoinAccount.balance + myAmount : undefined;\n                break;\n            // case SwapAsset.EUR:\n            //     currencyDecimals = 2;\n            //     myAmount = redeemInfo.value;\n            //     myTransactionFee = redeemInfo.fee;\n            //     newBalance = undefined; // unknown and unused\n            //     break;\n            default:\n                throw new Error(`Unsupported currency ${currency}`);\n        }\n        const fees = myTransactionFee + redeemFees.funding + redeemFees.processing;\n        const theirAmount = myAmount + fees; // what the other party pays including fees\n        return { myAmount, theirAmount, myTransactionFee, fees, currency, currencyDecimals, newBalance, fiatRate };\n    }\n\n    private get _baseAmountInfo(): SwapAmountInfo {\n        // alias for _fundingAmountInfo or _redeemingAmountInfo for easier lookup\n        const { fund: { type: fundingCurrency }, redeem: { type: redeemingCurrency } } = this.request;\n        const swapCurrencies = [fundingCurrency, redeemingCurrency];\n        let swapBase: SwapAsset;\n        if (swapCurrencies.includes(SwapAsset.NIM)) {\n            swapBase = SwapAsset.NIM; // Nim if Nim is involved\n        } else {\n            swapBase = swapCurrencies.find((currency) => currency !== SwapAsset.EUR)!; // the non-fiat currency\n        }\n        return [this._fundingAmountInfo, this._redeemingAmountInfo].find((info) => info.currency === swapBase)!;\n    }\n\n    private get _otherAmountInfo(): SwapAmountInfo {\n        // alias for _fundingAmountInfo or _redeemingAmountInfo for easier lookup\n        return [this._fundingAmountInfo, this._redeemingAmountInfo].find((info) => info !== this._baseAmountInfo)!;\n    }\n\n    private get _amountInfoForCurrency(): Partial<Record<SwapAsset, SwapAmountInfo>> {\n        // alias for _fundingAmountInfo and _redeemingAmountInfo for easier lookup\n        const amountInfoForCurrency: Partial<Record<SwapAsset, SwapAmountInfo>> = {};\n        amountInfoForCurrency[this._fundingAmountInfo.currency] = this._fundingAmountInfo;\n        amountInfoForCurrency[this._redeemingAmountInfo.currency] = this._redeemingAmountInfo;\n        return amountInfoForCurrency;\n    }\n\n    private get _currentSigningInfo(): SigningInfo | null {\n        if (!this.currentlySignedTransaction) return null;\n        let currency: SwapAsset;\n        let recipient: string;\n        if ('recipient' in this.currentlySignedTransaction) {\n            currency = SwapAsset.NIM;\n            recipient = this.currentlySignedTransaction.recipient.toUserFriendlyAddress();\n        } else {\n            currency = SwapAsset.BTC;\n            recipient = this.currentlySignedTransaction.recipientOutput.address;\n        }\n\n        const amountInfo = this._amountInfoForCurrency[currency];\n        if (!amountInfo) return null;\n\n        const currenciesToBeSigned = [this._baseAmountInfo, this._otherAmountInfo]\n            .map(({ currency: c }) => c)\n            // filter out fiat funding which does not have to be signed on the Ledger\n            .filter((c) => c === SwapAsset.NIM || c === SwapAsset.BTC);\n\n        return {\n            step: currenciesToBeSigned.indexOf(currency) + 1,\n            totalSteps: currenciesToBeSigned.length,\n            instructions: this.$t('Confirm {outgoingOrIncoming} transaction on Ledger', {\n                outgoingOrIncoming: this._fundingAmountInfo.currency === currency\n                    ? this.$t('outgoing')\n                    : this.$t('incoming'),\n            }) as string,\n            recipient,\n            amount: this._fundingAmountInfo.currency === currency\n                ? amountInfo.myAmount - amountInfo.myTransactionFee\n                : amountInfo.myAmount,\n            fee: amountInfo.myTransactionFee,\n            currency,\n            currencyDecimals: amountInfo.currencyDecimals,\n        };\n    }\n\n    private get _totalFiatFees(): number {\n        return this._toFiat(this._fundingAmountInfo.fees, this._fundingAmountInfo.currency)\n            + this._toFiat(this._redeemingAmountInfo.fees, this._redeemingAmountInfo.currency)\n            + this._toFiat(this.request.serviceSwapFee, this._fundingAmountInfo.currency); // in funding currency\n    }\n\n    private get _exchangeRate(): number {\n        // how much is one coin of the base currency in the other currency (based on theirAmount as the exchange is\n        // determined on their side)?\n        const exchangeRate = this._toCoins(this._otherAmountInfo.theirAmount, this._otherAmountInfo.currency)\n            / this._toCoins(this._baseAmountInfo.theirAmount, this._baseAmountInfo.currency);\n        // Round to _otherAmountInfo.currencyDecimals + 1 decimals and avoid displaying a better exchange rate than the\n        // actual one by flooring / ceiling in the worse direction instead of rounding, depending on whether we are\n        // paying or receiving the base currency. Add or subtract a small epsilon to avoid rounding up or down due to\n        // floating point imprecision.\n        const roundingFactor = 10 ** (this._otherAmountInfo.currencyDecimals + 1);\n        return this._fundingAmountInfo === this._baseAmountInfo\n            // when funding, a lower rate is worse (receives less of other currency for same amount of base currency)\n            ? Math.floor(exchangeRate * roundingFactor + 1e-10) / roundingFactor\n            // when redeeming, a higher rate is worse (pays more of other currency for same amount of base currency)\n            : Math.ceil(exchangeRate * roundingFactor - 1e-10) / roundingFactor;\n    }\n\n    private get _formattedServiceFee(): string {\n        const { serviceSwapFee } = this.request; // in funding currency\n        const relativeServiceFee = serviceSwapFee / (this._fundingAmountInfo.theirAmount - serviceSwapFee);\n        // Convert to percent and round to two decimals. Always ceil to avoid displaying a lower fee than charged.\n        // Subtract a small epsilon to avoid that numbers get rounded up as a result of floating point imprecision after\n        // multiplication. Otherwise formatting for example .07 would result in 7.01%.\n        return `${Math.ceil(relativeServiceFee * 100 * 100 - 1e-10) / 100}%`;\n    }\n\n    private get _formattedOasisFee(): string {\n        const euroAmountInfo = this._amountInfoForCurrency[SwapAsset.EUR];\n        if (!euroAmountInfo) return '0%';\n        const relativeOasisFee = euroAmountInfo.fees / this._fundingAmountInfo.theirAmount;\n        // Convert to percent and round to two decimals. Always ceil to avoid displaying a lower fee than charged.\n        // Subtract a small epsilon to avoid that numbers get rounded up as a result of floating point imprecision after\n        // multiplication. Otherwise formatting for example .07 would result in 7.01%.\n        return `${Math.ceil(relativeOasisFee * 100 * 100 - 1e-10) / 100}%`;\n    }\n\n    private get _balanceBarEntries(): BalanceBarEntry[] {\n        if (this.request.layout !== 'slider'\n            || !this.request.nimiqAddresses\n            || !this.request.bitcoinAccount\n            || !this._amountInfoForCurrency[SwapAsset.NIM]\n            || !this._amountInfoForCurrency[SwapAsset.BTC]\n        ) return [];\n        return [\n            ...this.request.nimiqAddresses.map(({ address, balance }) => {\n                const nimiqAddress = Nimiq.Address.fromAny(address);\n                const oldFiatBalance = this._toFiat(balance, SwapAsset.NIM);\n                return {\n                    currency: SwapAsset.NIM,\n                    background: identiconBackgroundColors[identiconColorNames.indexOf(\n                        getIdenticonBackgroundColorName(nimiqAddress.toUserFriendlyAddress()),\n                    )],\n                    oldFiatBalance,\n                    newFiatBalance: nimiqAddress.equals(this.nimiqLedgerAddressInfo!.address)\n                        ? this._toFiat(this._amountInfoForCurrency[SwapAsset.NIM]!.newBalance!, SwapAsset.NIM)\n                        : oldFiatBalance,\n                };\n            }), {\n                currency: SwapAsset.BTC,\n                background: '#F7931A', // Bitcoin orange\n                oldFiatBalance: this._toFiat(this.request.bitcoinAccount.balance, SwapAsset.BTC),\n                newFiatBalance: this._toFiat(this._amountInfoForCurrency[SwapAsset.BTC]!.newBalance!, SwapAsset.BTC),\n            },\n        ];\n    }\n\n    private _onLedgerApiStateChange(state: LedgerApiState) {\n        this.ledgerApiStateType = state.type;\n    }\n\n    private _toCoins(amount: number, currency: SwapAsset) {\n        switch (currency) {\n            case SwapAsset.NIM: return Nimiq.Policy.lunasToCoins(amount);\n            case SwapAsset.BTC: return satoshisToCoins(amount);\n            case SwapAsset.EUR: return amount / 100;\n            default: throw new Error(`Invalid currency ${currency}`);\n        }\n    }\n\n    private _toFiat(amount: number, currency: SwapAsset) {\n        const coins = this._toCoins(amount, currency);\n        if (currency === SwapAsset.EUR) return coins;\n        const amountInfoForCurrency = this._amountInfoForCurrency[currency];\n        if (!amountInfoForCurrency) throw new Error(`Unknown fiat rate for ${currency}`);\n        return coins * amountInfoForCurrency.fiatRate;\n    }\n\n    private _close() {\n        if (this.state === this.State.FINISHED) return;\n        this.$rpc.reject(new Error(ERROR_CANCELED));\n    }\n}\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"container\" },\n    [\n      _c(\n        \"SmallPage\",\n        { class: { \"wide-page\": _vm.request.layout === \"slider\" } },\n        [\n          _c(\"PageHeader\", {\n            attrs: { \"back-arrow\": \"\" },\n            on: { back: _vm._close },\n            scopedSlots: _vm._u([\n              {\n                key: \"default\",\n                fn: function() {\n                  return [_vm._v(_vm._s(_vm.$t(\"Confirm Swap\")))]\n                },\n                proxy: true\n              },\n              {\n                key: \"more\",\n                fn: function() {\n                  return [\n                    _c(\"Tooltip\", {\n                      staticClass: \"exchange-rate-tooltip\",\n                      attrs: { preferredPosition: \"bottom right\" },\n                      scopedSlots: _vm._u([\n                        {\n                          key: \"trigger\",\n                          fn: function() {\n                            return [\n                              _vm._v(\n                                \" 1 \" +\n                                  _vm._s(_vm._baseAmountInfo.currency) +\n                                  \" = \"\n                              ),\n                              _vm._otherAmountInfo.currency ===\n                                _vm.SwapAsset.BTC ||\n                              _vm._otherAmountInfo.currency ===\n                                _vm.SwapAsset.NIM\n                                ? _c(\"Amount\", {\n                                    attrs: {\n                                      amount:\n                                        _vm._exchangeRate *\n                                        Math.pow(\n                                          10,\n                                          _vm._otherAmountInfo\n                                            .currencyDecimals + 1\n                                        ),\n                                      currency: _vm._otherAmountInfo.currency,\n                                      currencyDecimals:\n                                        _vm._otherAmountInfo.currencyDecimals +\n                                        1,\n                                      maxDecimals:\n                                        _vm._otherAmountInfo.currencyDecimals +\n                                        1,\n                                      minDecimals: 0\n                                    }\n                                  })\n                                : _c(\"FiatAmount\", {\n                                    attrs: {\n                                      amount: _vm._exchangeRate,\n                                      currency: _vm.request.fiatCurrency\n                                    }\n                                  })\n                            ]\n                          },\n                          proxy: true\n                        },\n                        {\n                          key: \"default\",\n                          fn: function() {\n                            return [\n                              _vm._v(\n                                _vm._s(\n                                  _vm.$t(\"This rate includes the swap fee.\")\n                                )\n                              )\n                            ]\n                          },\n                          proxy: true\n                        }\n                      ])\n                    }),\n                    _c(\"Tooltip\", {\n                      staticClass: \"fee-tooltip\",\n                      attrs: { preferredPosition: \"bottom left\" },\n                      scopedSlots: _vm._u([\n                        {\n                          key: \"trigger\",\n                          fn: function() {\n                            return [\n                              _c(\"i18n\", {\n                                attrs: { path: \"{totalFees} fees\", tag: false },\n                                scopedSlots: _vm._u([\n                                  {\n                                    key: \"totalFees\",\n                                    fn: function() {\n                                      return [\n                                        _c(\"FiatAmount\", {\n                                          attrs: {\n                                            amount: _vm._totalFiatFees,\n                                            currency: _vm.request.fiatCurrency\n                                          }\n                                        })\n                                      ]\n                                    },\n                                    proxy: true\n                                  }\n                                ])\n                              })\n                            ]\n                          },\n                          proxy: true\n                        },\n                        {\n                          key: \"default\",\n                          fn: function() {\n                            return [\n                              _vm._amountInfoForCurrency[_vm.SwapAsset.BTC]\n                                ? [\n                                    _c(\"label\", [\n                                      _vm._v(_vm._s(_vm.$t(\"BTC network fee\")))\n                                    ]),\n                                    _c(\"FiatAmount\", {\n                                      attrs: {\n                                        amount: _vm._toFiat(\n                                          _vm._amountInfoForCurrency[\n                                            _vm.SwapAsset.BTC\n                                          ].fees,\n                                          _vm.SwapAsset.BTC\n                                        ),\n                                        currency: _vm.request.fiatCurrency\n                                      }\n                                    }),\n                                    _c(\"div\", { staticClass: \"explainer\" }, [\n                                      _vm._v(\n                                        _vm._s(\n                                          _vm.$t(\n                                            \"Atomic swaps require two BTC transactions.\"\n                                          )\n                                        )\n                                      )\n                                    ])\n                                  ]\n                                : _vm._e(),\n                              _vm._amountInfoForCurrency[_vm.SwapAsset.EUR]\n                                ? [\n                                    _c(\"label\", [\n                                      _vm._v(\n                                        _vm._s(_vm.$t(\"OASIS service fee\"))\n                                      )\n                                    ]),\n                                    _c(\"FiatAmount\", {\n                                      attrs: {\n                                        amount: _vm._toFiat(\n                                          _vm._amountInfoForCurrency[\n                                            _vm.SwapAsset.EUR\n                                          ].fees,\n                                          _vm.SwapAsset.EUR\n                                        ),\n                                        currency: _vm.request.fiatCurrency\n                                      }\n                                    }),\n                                    _c(\"div\", { staticClass: \"explainer\" }, [\n                                      _vm._v(\n                                        _vm._s(\n                                          _vm.$t(\n                                            \"{percentage} of swap value.\",\n                                            {\n                                              percentage: _vm._formattedOasisFee\n                                            }\n                                          )\n                                        )\n                                      )\n                                    ])\n                                  ]\n                                : _vm._e(),\n                              _vm._amountInfoForCurrency[_vm.SwapAsset.NIM]\n                                ? [\n                                    _c(\"label\", [\n                                      _vm._v(_vm._s(_vm.$t(\"NIM network fee\")))\n                                    ]),\n                                    _c(\"FiatAmount\", {\n                                      attrs: {\n                                        amount: _vm._toFiat(\n                                          _vm._amountInfoForCurrency[\n                                            _vm.SwapAsset.NIM\n                                          ].fees,\n                                          _vm.SwapAsset.NIM\n                                        ),\n                                        currency: _vm.request.fiatCurrency\n                                      }\n                                    })\n                                  ]\n                                : _vm._e(),\n                              _vm.request.serviceSwapFee\n                                ? [\n                                    _c(\"label\", [\n                                      _vm._v(_vm._s(_vm.$t(\"Swap fee\")))\n                                    ]),\n                                    _c(\"FiatAmount\", {\n                                      attrs: {\n                                        amount: _vm._toFiat(\n                                          _vm.request.serviceSwapFee,\n                                          _vm._fundingAmountInfo.currency\n                                        ),\n                                        currency: _vm.request.fiatCurrency\n                                      }\n                                    }),\n                                    _c(\"div\", { staticClass: \"explainer\" }, [\n                                      _vm._v(\n                                        _vm._s(\n                                          _vm.$t(\n                                            \"{percentage} of swap value.\",\n                                            {\n                                              percentage:\n                                                _vm._formattedServiceFee\n                                            }\n                                          )\n                                        )\n                                      )\n                                    ])\n                                  ]\n                                : _vm._e(),\n                              _c(\"hr\"),\n                              _c(\"label\", { staticClass: \"total\" }, [\n                                _vm._v(_vm._s(_vm.$t(\"Total fees\")))\n                              ]),\n                              _c(\"FiatAmount\", {\n                                staticClass: \"total\",\n                                attrs: {\n                                  amount: _vm._totalFiatFees,\n                                  currency: _vm.request.fiatCurrency\n                                }\n                              })\n                            ]\n                          },\n                          proxy: true\n                        }\n                      ])\n                    })\n                  ]\n                },\n                proxy: true\n              }\n            ])\n          }),\n          _vm.request.layout === \"standard\"\n            ? _c(\"PageBody\", { staticClass: \"layout-standard\" }, [\n                _c(\n                  \"div\",\n                  { staticClass: \"address-infos\" },\n                  [\n                    _vm._l([_vm.request.fund, _vm.request.redeem], function(\n                      fundingOrRedeemingInfo\n                    ) {\n                      return [\n                        fundingOrRedeemingInfo.type === _vm.SwapAsset.NIM\n                          ? _c(\n                              \"div\",\n                              { key: fundingOrRedeemingInfo.type },\n                              [\n                                _c(\"Identicon\", {\n                                  attrs: {\n                                    address: _vm.nimiqLedgerAddressInfo.address.toUserFriendlyAddress()\n                                  }\n                                }),\n                                _c(\"label\", [\n                                  _vm._v(\n                                    _vm._s(_vm.nimiqLedgerAddressInfo.label)\n                                  )\n                                ])\n                              ],\n                              1\n                            )\n                          : fundingOrRedeemingInfo.type === _vm.SwapAsset.BTC\n                          ? _c(\"div\", { key: fundingOrRedeemingInfo.type }, [\n                              _c(\"img\", { attrs: { src: \"/icon-btc.svg\" } }),\n                              _c(\"label\", [_vm._v(_vm._s(_vm.$t(\"Bitcoin\")))])\n                            ])\n                          : fundingOrRedeemingInfo.type === _vm.SwapAsset.EUR\n                          ? _c(\"div\", { key: fundingOrRedeemingInfo.type }, [\n                              _c(\"img\", { attrs: { src: \"/icon-bank.svg\" } }),\n                              _c(\"label\", [\n                                _vm._v(\n                                  _vm._s(\n                                    _vm.request.fund.bankLabel ||\n                                      _vm.$t(\"Your Bank\")\n                                  )\n                                )\n                              ])\n                            ])\n                          : _vm._e(),\n                        fundingOrRedeemingInfo === _vm.request.fund\n                          ? _c(\"ArrowRightIcon\", {\n                              key: fundingOrRedeemingInfo.type + \"-arrow\"\n                            })\n                          : _vm._e()\n                      ]\n                    })\n                  ],\n                  2\n                ),\n                _c(\n                  \"div\",\n                  { staticClass: \"swap-values\" },\n                  [\n                    _c(\"Amount\", {\n                      staticClass: \"from-value nq-light-blue\",\n                      attrs: {\n                        amount: _vm._fundingAmountInfo.myAmount,\n                        currency: _vm._fundingAmountInfo.currency,\n                        currencyDecimals:\n                          _vm._fundingAmountInfo.currencyDecimals,\n                        maxDecimals: _vm._fundingAmountInfo.currencyDecimals,\n                        minDecimals:\n                          _vm._fundingAmountInfo.currency === _vm.SwapAsset.EUR\n                            ? _vm._fundingAmountInfo.currencyDecimals\n                            : 0\n                      }\n                    }),\n                    _c(\n                      \"div\",\n                      { staticClass: \"to-value nq-gray\" },\n                      [\n                        _c(\n                          \"svg\",\n                          {\n                            attrs: {\n                              xmlns: \"http://www.w3.org/2000/svg\",\n                              width: \"27\",\n                              height: \"21\",\n                              viewBox: \"0 0 27 21\"\n                            }\n                          },\n                          [\n                            _c(\n                              \"g\",\n                              {\n                                attrs: {\n                                  fill: \"none\",\n                                  stroke: \"currentColor\",\n                                  \"stroke-linecap\": \"round\",\n                                  \"stroke-width\": \"1.5\"\n                                }\n                              },\n                              [\n                                _c(\"path\", {\n                                  attrs: { d: \"M.75.75v6a8 8 0 008 8h17\" }\n                                }),\n                                _c(\"path\", {\n                                  attrs: {\n                                    d: \"M20.75 9.25l5.5 5.5-5.5 5.5\",\n                                    \"stroke-linejoin\": \"round\"\n                                  }\n                                })\n                              ]\n                            )\n                          ]\n                        ),\n                        _c(\"Amount\", {\n                          attrs: {\n                            amount: _vm._redeemingAmountInfo.myAmount,\n                            currency: _vm._redeemingAmountInfo.currency,\n                            currencyDecimals:\n                              _vm._redeemingAmountInfo.currencyDecimals,\n                            maxDecimals:\n                              _vm._redeemingAmountInfo.currencyDecimals,\n                            minDecimals:\n                              _vm._redeemingAmountInfo.currency ===\n                              _vm.SwapAsset.EUR\n                                ? _vm._redeemingAmountInfo.currencyDecimals\n                                : 0\n                          }\n                        })\n                      ],\n                      1\n                    )\n                  ],\n                  1\n                )\n              ])\n            : _vm.request.layout === \"slider\"\n            ? _c(\"PageBody\", { staticClass: \"layout-slider\" }, [\n                _c(\n                  \"div\",\n                  { staticClass: \"address-infos\" },\n                  [\n                    _c(\"Identicon\", {\n                      attrs: {\n                        address: _vm.nimiqLedgerAddressInfo.address.toUserFriendlyAddress()\n                      }\n                    }),\n                    _c(\"label\", [\n                      _vm._v(_vm._s(_vm.nimiqLedgerAddressInfo.label))\n                    ]),\n                    _c(\"label\", [_vm._v(_vm._s(_vm.$t(\"Bitcoin\")))]),\n                    _c(\"img\", { attrs: { src: \"/icon-btc.svg\" } })\n                  ],\n                  1\n                ),\n                _c(\n                  \"div\",\n                  { staticClass: \"balance-bar\" },\n                  [\n                    _vm._l(_vm._balanceBarEntries, function(ref, i) {\n                      var currency = ref.currency\n                      var background = ref.background\n                      var oldFiatBalance = ref.oldFiatBalance\n                      var newFiatBalance = ref.newFiatBalance\n                      return [\n                        _vm._balanceBarEntries[i - 1] &&\n                        _vm._balanceBarEntries[i - 1].currency !== currency\n                          ? [\n                              _c(\"div\", {\n                                key: \"seperator-\" + i,\n                                staticClass: \"separator\"\n                              })\n                            ]\n                          : _vm._e(),\n                        _c(\n                          \"div\",\n                          {\n                            key: \"bar-\" + i,\n                            staticClass: \"bar\",\n                            style: {\n                              flexGrow: newFiatBalance,\n                              opacity:\n                                newFiatBalance !== oldFiatBalance ? 1 : 0.25,\n                              background: background,\n                              borderColor: background\n                            }\n                          },\n                          [\n                            newFiatBalance > oldFiatBalance\n                              ? _c(\"div\", {\n                                  staticClass: \"change\",\n                                  style: {\n                                    width:\n                                      ((newFiatBalance - oldFiatBalance) /\n                                        newFiatBalance) *\n                                        100 +\n                                      \"%\"\n                                  }\n                                })\n                              : _vm._e()\n                          ]\n                        )\n                      ]\n                    })\n                  ],\n                  2\n                ),\n                _c(\"div\", { staticClass: \"swap-values\" }, [\n                  _c(\n                    \"div\",\n                    {\n                      class: {\n                        redeeming:\n                          _vm._redeemingAmountInfo === _vm._baseAmountInfo\n                      }\n                    },\n                    [\n                      _c(\"Amount\", {\n                        attrs: {\n                          amount: _vm._baseAmountInfo.myAmount,\n                          currency: _vm._baseAmountInfo.currency,\n                          currencyDecimals:\n                            _vm._baseAmountInfo.currencyDecimals,\n                          maxDecimals: _vm._baseAmountInfo.currencyDecimals,\n                          minDecimals: 0\n                        }\n                      }),\n                      _c(\"FiatAmount\", {\n                        attrs: {\n                          amount: _vm._toFiat(\n                            _vm._baseAmountInfo.myAmount,\n                            _vm._baseAmountInfo.currency\n                          ),\n                          currency: _vm.request.fiatCurrency\n                        }\n                      })\n                    ],\n                    1\n                  ),\n                  _c(\n                    \"div\",\n                    {\n                      class: {\n                        redeeming:\n                          _vm._redeemingAmountInfo === _vm._otherAmountInfo\n                      }\n                    },\n                    [\n                      _c(\"Amount\", {\n                        attrs: {\n                          amount: _vm._otherAmountInfo.myAmount,\n                          currency: _vm._otherAmountInfo.currency,\n                          currencyDecimals:\n                            _vm._otherAmountInfo.currencyDecimals,\n                          maxDecimals: _vm._otherAmountInfo.currencyDecimals,\n                          minDecimals: 0\n                        }\n                      }),\n                      _c(\"FiatAmount\", {\n                        attrs: {\n                          amount: _vm._toFiat(\n                            _vm._otherAmountInfo.myAmount,\n                            _vm._otherAmountInfo.currency\n                          ),\n                          currency: _vm.request.fiatCurrency\n                        }\n                      })\n                    ],\n                    1\n                  )\n                ]),\n                _c(\"div\", { staticClass: \"new-balances\" }, [\n                  _c(\n                    \"div\",\n                    [\n                      _c(\"Amount\", {\n                        attrs: {\n                          amount: _vm._baseAmountInfo.newBalance,\n                          currency: _vm._baseAmountInfo.currency,\n                          currencyDecimals:\n                            _vm._baseAmountInfo.currencyDecimals,\n                          maxDecimals: _vm._baseAmountInfo.currencyDecimals,\n                          minDecimals: 0\n                        }\n                      }),\n                      _c(\"FiatAmount\", {\n                        attrs: {\n                          amount: _vm._toFiat(\n                            _vm._baseAmountInfo.newBalance,\n                            _vm._baseAmountInfo.currency\n                          ),\n                          currency: _vm.request.fiatCurrency\n                        }\n                      })\n                    ],\n                    1\n                  ),\n                  _c(\n                    \"div\",\n                    [\n                      _c(\"Amount\", {\n                        attrs: {\n                          amount: _vm._otherAmountInfo.newBalance,\n                          currency: _vm._otherAmountInfo.currency,\n                          currencyDecimals:\n                            _vm._otherAmountInfo.currencyDecimals,\n                          maxDecimals: _vm._otherAmountInfo.currencyDecimals,\n                          minDecimals: 0\n                        }\n                      }),\n                      _c(\"FiatAmount\", {\n                        attrs: {\n                          amount: _vm._toFiat(\n                            _vm._otherAmountInfo.newBalance,\n                            _vm._otherAmountInfo.currency\n                          ),\n                          currency: _vm.request.fiatCurrency\n                        }\n                      })\n                    ],\n                    1\n                  )\n                ])\n              ])\n            : _vm._e(),\n          _c(\n            \"div\",\n            {\n              staticClass: \"bottom-container\",\n              class: {\n                \"full-height\":\n                  _vm.state === _vm.State.SYNCING_FAILED ||\n                  _vm.state === _vm.State.FETCHING_SWAP_DATA_FAILED\n              }\n            },\n            [\n              _c(\"LedgerUi\", {\n                attrs: { small: \"\" },\n                on: {\n                  \"information-shown\": function($event) {\n                    _vm.ledgerInstructionsShown = true\n                  },\n                  \"no-information-shown\": function($event) {\n                    _vm.ledgerInstructionsShown = false\n                  }\n                }\n              }),\n              _c(\n                \"transition\",\n                { attrs: { name: \"transition-fade\" } },\n                [\n                  _vm._currentSigningInfo &&\n                  _vm.ledgerApiStateType ===\n                    _vm.LedgerApiStateType.REQUEST_PROCESSING\n                    ? _c(\"div\", { staticClass: \"signing-info nq-blue-bg\" }, [\n                        _c(\n                          \"div\",\n                          { staticClass: \"signing-instructions\" },\n                          [\n                            _vm._l(_vm._currentSigningInfo.step - 1, function(\n                              step\n                            ) {\n                              return _c(\"CheckmarkSmallIcon\", {\n                                key: \"step-icon-\" + step,\n                                staticClass: \"step\"\n                              })\n                            }),\n                            _vm._currentSigningInfo.totalSteps > 1\n                              ? _c(\n                                  \"div\",\n                                  { staticClass: \"step current-step\" },\n                                  [\n                                    _vm._v(\n                                      \" \" +\n                                        _vm._s(_vm._currentSigningInfo.step) +\n                                        \" \"\n                                    )\n                                  ]\n                                )\n                              : _vm._e(),\n                            _c(\"div\", { staticClass: \"instructions-text\" }, [\n                              _vm._v(\n                                _vm._s(_vm._currentSigningInfo.instructions)\n                              )\n                            ]),\n                            _vm._l(\n                              _vm._currentSigningInfo.totalSteps -\n                                _vm._currentSigningInfo.step,\n                              function(step) {\n                                return _c(\n                                  \"div\",\n                                  { key: \"step-\" + step, staticClass: \"step\" },\n                                  [\n                                    _vm._v(\n                                      \" \" +\n                                        _vm._s(\n                                          step + _vm._currentSigningInfo.step\n                                        ) +\n                                        \" \"\n                                    )\n                                  ]\n                                )\n                              }\n                            )\n                          ],\n                          2\n                        ),\n                        _c(\n                          \"div\",\n                          {\n                            staticClass: \"transaction-details\",\n                            class: {\n                              // For long BTC htlc addresses use a two line layout\n                              \"two-line-address-layout\":\n                                _vm._currentSigningInfo.recipient.length > 44,\n                              // on narrower standard layout shrink long amounts if they and the labels don't fit\n                              \"shrink-amounts\":\n                                _vm.request.layout === \"standard\" &&\n                                (\n                                  _vm.$t(\"Amount\") +\n                                  \"\" +\n                                  _vm._currentSigningInfo.amount /\n                                    Math.pow(\n                                      10,\n                                      _vm._currentSigningInfo.currencyDecimals\n                                    ) +\n                                  _vm.$t(\"Fee\") +\n                                  \"\" +\n                                  _vm._currentSigningInfo.fee /\n                                    Math.pow(\n                                      10,\n                                      _vm._currentSigningInfo.currencyDecimals\n                                    )\n                                ).length > 29\n                            }\n                          },\n                          [\n                            _c(\"label\", { staticClass: \"address-label\" }, [\n                              _vm._v(_vm._s(_vm.$t(\"Address\")))\n                            ]),\n                            _c(\"div\", { staticClass: \"address\" }, [\n                              _vm._v(_vm._s(_vm._currentSigningInfo.recipient))\n                            ]),\n                            _c(\"label\", { staticClass: \"amount-label\" }, [\n                              _vm._v(_vm._s(_vm.$t(\"Amount\")))\n                            ]),\n                            _c(\"Amount\", {\n                              staticClass: \"amount\",\n                              attrs: {\n                                amount: _vm._currentSigningInfo.amount,\n                                currency: _vm._currentSigningInfo.currency,\n                                currencyDecimals:\n                                  _vm._currentSigningInfo.currencyDecimals,\n                                maxDecimals:\n                                  _vm._currentSigningInfo.currencyDecimals,\n                                minDecimals: 0\n                              }\n                            }),\n                            _c(\"label\", { staticClass: \"fee-label\" }, [\n                              _vm._v(_vm._s(_vm.$t(\"Fee\")))\n                            ]),\n                            _c(\"Amount\", {\n                              staticClass: \"fee\",\n                              attrs: {\n                                amount: _vm._currentSigningInfo.fee,\n                                currency: _vm._currentSigningInfo.currency,\n                                currencyDecimals:\n                                  _vm._currentSigningInfo.currencyDecimals,\n                                maxDecimals:\n                                  _vm._currentSigningInfo.currencyDecimals,\n                                minDecimals: 0\n                              }\n                            })\n                          ],\n                          1\n                        )\n                      ])\n                    : _vm.state === _vm.State.SYNCING_FAILED ||\n                      _vm.state === _vm.State.FETCHING_SWAP_DATA_FAILED ||\n                      !_vm.ledgerInstructionsShown\n                    ? _c(\"StatusScreen\", {\n                        attrs: {\n                          state: _vm.statusScreenState,\n                          title: _vm.statusScreenTitle,\n                          status: _vm.statusScreenStatus,\n                          message: _vm.statusScreenMessage,\n                          mainAction: _vm.statusScreenAction,\n                          small:\n                            _vm.state !== _vm.State.SYNCING_FAILED &&\n                            _vm.state !== _vm.State.FETCHING_SWAP_DATA_FAILED\n                        },\n                        on: { \"main-action\": _vm._statusScreenActionHandler }\n                      })\n                    : _vm._e()\n                ],\n                1\n              )\n            ],\n            1\n          )\n        ],\n        1\n      ),\n      _c(\"GlobalClose\", { attrs: { hidden: _vm.state === _vm.State.FINISHED } })\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"\\n.small-page[data-v-5734e36f] {\\n    position: relative;\\n    padding-bottom: 24rem; /* for bottom container + additional padding */\\n}\\n.small-page.wide-page[data-v-5734e36f] {\\n    min-width: 63.5rem;\\n}\\n.page-header[data-v-5734e36f] {\\n    padding-bottom: 3rem;\\n}\\n.page-header .tooltip[data-v-5734e36f] {\\n    margin-top: 2rem;\\n    text-align: left;\\n    vertical-align: bottom;\\n}\\n.page-header .tooltip[data-v-5734e36f]:not(:first-of-type) {\\n    margin-left: .75rem;\\n}\\n.page-header .tooltip[data-v-5734e36f] .trigger {\\n    padding: 0.75rem 1.5rem;\\n    border-radius: 5rem;\\n    font-size: 1.75rem;\\n    font-weight: 600;\\n    color: rgba(31, 35, 72, .6); /* nq-blue with .6 opacity */\\n    -webkit-box-shadow: rgba(31, 35, 72, .15) 0 0 0 1.5px inset;\\n            box-shadow: rgba(31, 35, 72, .15) 0 0 0 1.5px inset;\\n}\\n.page-header .tooltip[data-v-5734e36f] .tooltip-box {\\n    font-size: 2rem;\\n}\\n.exchange-rate-tooltip[data-v-5734e36f] .tooltip-box {\\n    min-width: 19.5rem;\\n    line-height: 1.3;\\n}\\n.fee-tooltip[data-v-5734e36f] .tooltip-box {\\n    display: grid;\\n    grid-template-columns: 1fr auto;\\n    -webkit-column-gap: 1rem;\\n       -moz-column-gap: 1rem;\\n            column-gap: 1rem;\\n    row-gap: 1rem;\\n    width: 32.5rem;\\n    padding-left: 2rem;\\n    padding-right: 2rem;\\n    white-space: nowrap;\\n}\\n.fee-tooltip .fiat-amount[data-v-5734e36f] {\\n    justify-self: right;\\n}\\n.fee-tooltip .explainer[data-v-5734e36f] {\\n    grid-column: span 2;\\n    margin-top: -1rem;\\n    font-size: 1.75rem;\\n    white-space: normal;\\n    opacity: .6;\\n}\\n.fee-tooltip hr[data-v-5734e36f] {\\n    grid-column: span 2;\\n    margin: .75rem -1rem .5rem;\\n    border: unset;\\n    border-top: 1px solid white;\\n    opacity: .2;\\n}\\n.fee-tooltip .total[data-v-5734e36f] {\\n    font-weight: bold;\\n}\\n.page-body[data-v-5734e36f] {\\n    padding-bottom: 0;\\n}\\n.address-infos[data-v-5734e36f],\\n.swap-values[data-v-5734e36f],\\n.new-balances[data-v-5734e36f] {\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    -webkit-box-pack: justify;\\n        -ms-flex-pack: justify;\\n            justify-content: space-between;\\n    -webkit-box-align: center;\\n        -ms-flex-align: center;\\n            align-items: center;\\n}\\n.address-infos label[data-v-5734e36f] {\\n    font-size: 2rem;\\n    font-weight: 600;\\n    line-height: 1.3;\\n}\\n\\n/* Standard layout */\\n.layout-standard[data-v-5734e36f] {\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    -webkit-box-orient: vertical;\\n    -webkit-box-direction: normal;\\n        -ms-flex-direction: column;\\n            flex-direction: column;\\n}\\n.layout-standard .address-infos[data-v-5734e36f] {\\n    -webkit-box-orient: horizontal;\\n    -webkit-box-direction: normal;\\n        -ms-flex-direction: row;\\n            flex-direction: row;\\n    -webkit-box-align: start;\\n        -ms-flex-align: start;\\n            align-items: flex-start;\\n    margin: 1rem 0 2rem;\\n}\\n.layout-standard .address-infos > div[data-v-5734e36f] {\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    -webkit-box-orient: vertical;\\n    -webkit-box-direction: normal;\\n        -ms-flex-direction: column;\\n            flex-direction: column;\\n    -webkit-box-align: center;\\n        -ms-flex-align: center;\\n            align-items: center;\\n    width: calc(50% - 1.5rem);\\n}\\n.layout-standard .address-infos .identicon[data-v-5734e36f] {\\n    width: 9rem;\\n    height: 9rem;\\n}\\n.layout-standard .address-infos :not(.identicon) > img[data-v-5734e36f] {\\n    width: 8.5rem;\\n    height: 8.5rem;\\n    margin: .25rem;\\n}\\n.layout-standard .address-infos label[data-v-5734e36f] {\\n    position: relative;\\n    width: 18.5rem; /* 148px, the width the automatic labels are designed for */\\n    margin: 1.75rem 0;\\n    white-space: nowrap;\\n    overflow: hidden;\\n    text-align: center;\\n}\\n.layout-standard .address-infos label[data-v-5734e36f]::after {\\n    content: '';\\n    display: inline-block;\\n    width: 2rem;\\n    height: 100%;\\n    position: absolute;\\n    right: 0;\\n    background: -webkit-gradient(linear, left top, right top, from(rgba(255, 255, 255, 0)), to(white));\\n    background: linear-gradient(to right, rgba(255, 255, 255, 0), white);\\n}\\n.layout-standard .address-infos .nq-icon[data-v-5734e36f] {\\n    margin-top: 3.5rem;\\n    height: 2.25rem;\\n    width: 3rem;\\n    color: var(--nimiq-light-blue);\\n}\\n.layout-standard .swap-values[data-v-5734e36f] {\\n    display: -webkit-inline-box;\\n    display: -ms-inline-flexbox;\\n    display: inline-flex;\\n    -webkit-box-orient: vertical;\\n    -webkit-box-direction: normal;\\n        -ms-flex-direction: column;\\n            flex-direction: column;\\n    -webkit-box-align: start;\\n        -ms-flex-align: start;\\n            align-items: flex-start;\\n    margin: 0 auto;\\n}\\n.layout-standard .from-value[data-v-5734e36f] {\\n    font-size: 4rem;\\n    font-weight: 600;\\n}\\n.layout-standard .from-value[data-v-5734e36f] .currency {\\n    margin-left: -.15em;\\n    font-size: 0.625em;\\n    font-weight: bold;\\n}\\n.layout-standard .to-value[data-v-5734e36f] {\\n    font-size: 2.5rem;\\n    font-weight: 600;\\n    opacity: 0.6;\\n}\\n.layout-standard .to-value svg[data-v-5734e36f] {\\n    opacity: 0.5;\\n    margin-left: 1.5rem;\\n    margin-right: 0.375rem;\\n}\\n.layout-standard .to-value[data-v-5734e36f] .currency {\\n    margin-left: -.15em;\\n    font-size: 0.8em;\\n    font-weight: bold;\\n}\\n\\n/* Slider layout */\\n.layout-slider .address-infos > .identicon[data-v-5734e36f] {\\n    width: 5.75rem;\\n    height: 5.75rem;\\n    margin: -.25rem 0;\\n}\\n.layout-slider .address-infos > img[data-v-5734e36f] {\\n    width: 5.25rem;\\n    height: 5.25rem;\\n}\\n.layout-slider .address-infos > label[data-v-5734e36f] {\\n    max-width: calc(50% - 5.75rem - 3rem); /* minus identicon width and margin */\\n    margin: 0 1.5rem;\\n}\\n.layout-slider .address-infos > label[data-v-5734e36f]:first-of-type {\\n    margin-right: auto;\\n}\\n.layout-slider .balance-bar[data-v-5734e36f] {\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    -webkit-box-align: center;\\n        -ms-flex-align: center;\\n            align-items: center;\\n    height: 3.5rem;\\n    margin: 2.75rem 0 4rem;\\n}\\n.layout-slider .balance-bar[data-v-5734e36f] > :not(:last-child) {\\n    margin-right: 0.375rem;\\n}\\n.layout-slider .balance-bar .bar[data-v-5734e36f] {\\n    position: relative;\\n    height: 2.5rem;\\n    border-radius: 0.5rem;\\n    border-width: .25rem;\\n    border-style: solid;\\n    overflow: hidden;\\n}\\n.layout-slider .balance-bar .bar[data-v-5734e36f]:first-child {\\n    border-top-left-radius: 2rem;\\n    border-bottom-left-radius: 2rem;\\n}\\n.layout-slider .balance-bar .bar[data-v-5734e36f]:last-child {\\n    border-top-right-radius: 2rem;\\n    border-bottom-right-radius: 2rem;\\n}\\n.layout-slider .balance-bar .bar .change[data-v-5734e36f] {\\n    position: absolute;\\n    height: 100%;\\n    right: 0;\\n    border-radius: 0.125rem;\\n    background: url('/swap-change-background.svg') repeat-x;\\n}\\n.layout-slider .balance-bar .separator ~ .bar .change[data-v-5734e36f] {\\n    left: 0;\\n    right: unset;\\n}\\n.layout-slider .balance-bar .separator[data-v-5734e36f] {\\n    width: 0.25rem;\\n    height: 100%;\\n    background: rgba(31, 35, 72, 0.3);\\n    border-radius: .125rem;\\n}\\n.layout-slider .swap-values[data-v-5734e36f] {\\n    margin-bottom: 2rem;\\n}\\n.layout-slider .swap-values > *[data-v-5734e36f],\\n.layout-slider .new-balances > *[data-v-5734e36f] {\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    -webkit-box-orient: vertical;\\n    -webkit-box-direction: normal;\\n        -ms-flex-direction: column;\\n            flex-direction: column;\\n    line-height: 1;\\n}\\n.layout-slider .swap-values[data-v-5734e36f] > :last-child,\\n.layout-slider .new-balances[data-v-5734e36f] > :last-child {\\n    text-align: right;\\n}\\n.layout-slider .swap-values .amount[data-v-5734e36f],\\n.layout-slider .new-balances .amount[data-v-5734e36f] {\\n    font-size: 2.5rem;\\n    font-weight: bold;\\n}\\n.layout-slider .swap-values .fiat-amount[data-v-5734e36f],\\n.layout-slider .new-balances .fiat-amount[data-v-5734e36f] {\\n    margin-top: .5rem;\\n    font-size: 2rem;\\n    font-weight: 600;\\n    opacity: .4;\\n}\\n.layout-slider .swap-values .redeeming[data-v-5734e36f] {\\n    color: var(--nimiq-green);\\n}\\n.layout-slider .swap-values .redeeming .amount[data-v-5734e36f]::before {\\n    content: '+';\\n}\\n.layout-slider .swap-values :not(.redeeming) .amount[data-v-5734e36f]::before {\\n    content: '-';\\n}\\n.layout-slider .swap-values .redeeming .fiat-amount[data-v-5734e36f] {\\n    opacity: .7;\\n}\\n.bottom-container[data-v-5734e36f] {\\n    position: absolute;\\n    width: 100%;\\n    height: 23rem;\\n    bottom: 0;\\n    -webkit-transition: height .4s;\\n    transition: height .4s;\\n}\\n.bottom-container.full-height[data-v-5734e36f] {\\n    height: 100%;\\n}\\n.bottom-container > *[data-v-5734e36f] {\\n    position: absolute;\\n    top: 0;\\n    -webkit-transition: opacity .4s;\\n    transition: opacity .4s;\\n    overflow: hidden;\\n}\\n.ledger-ui[data-v-5734e36f] .loading-spinner {\\n    margin-top: -1.25rem; /* position at same position as StatusScreen's loading spinner */\\n}\\n.signing-info[data-v-5734e36f] {\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    padding: 2rem;\\n    margin: .75rem;\\n    width: calc(100% - 1.5rem); /* minus 2 * margin */\\n    height: calc(100% - 1.5rem);\\n    border-radius: .625rem;\\n    -webkit-box-orient: vertical;\\n    -webkit-box-direction: normal;\\n        -ms-flex-direction: column;\\n            flex-direction: column;\\n    -webkit-box-pack: justify;\\n        -ms-flex-pack: justify;\\n            justify-content: space-between;\\n    -webkit-box-align: center;\\n        -ms-flex-align: center;\\n            align-items: center;\\n    z-index: 1000;\\n}\\n.signing-instructions[data-v-5734e36f] {\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    -webkit-box-pack: center;\\n        -ms-flex-pack: center;\\n            justify-content: center;\\n    -webkit-box-align: center;\\n        -ms-flex-align: center;\\n            align-items: center;\\n}\\n.signing-instructions .step[data-v-5734e36f] {\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    width: 2.5rem;\\n    height: 2.5rem;\\n    margin: 0 .375rem;\\n    border-radius: 1.25rem;\\n    -webkit-box-pack: center;\\n        -ms-flex-pack: center;\\n            justify-content: center;\\n    -webkit-box-align: center;\\n        -ms-flex-align: center;\\n            align-items: center;\\n    font-size: 1.5rem;\\n    font-weight: bold;\\n    line-height: 1;\\n    color: rgba(255, 255, 255, .5);\\n    background: rgba(255, 255, 255, .1);\\n}\\n.signing-instructions .step.nq-icon[data-v-5734e36f] {\\n    padding: .75rem;\\n}\\n.signing-instructions .current-step[data-v-5734e36f] {\\n    color: white;\\n}\\n.signing-instructions .instructions-text[data-v-5734e36f] {\\n    font-size: 1.75rem;\\n    font-weight: 600;\\n    margin: 0 1rem 0 .625rem;\\n}\\n.transaction-details[data-v-5734e36f] {\\n    /* as grid layout to be able to align address with amount in two-line-address-layout regardless of label\\n    transaction lengths */\\n    display: grid;\\n    min-width: 100%;\\n    grid-template-columns: 1fr auto 1fr auto;\\n    /* short address layout: have the address and address label in separate lines */\\n    grid-template-areas:\\n        \\\"address-label address-label address-label address-label\\\"\\n        \\\"address       address       address       address\\\"\\n        \\\"amount-label  amount        fee-label     fee\\\";\\n}\\n.transaction-details.two-line-address-layout[data-v-5734e36f] {\\n    grid-template-columns: .5fr auto 1fr auto;\\n    /* long address layout: no own line for address label, allow the address to break into multiple lines instead */\\n    grid-template-areas:\\n        \\\"address-label   address   address   address\\\"\\n        \\\"amount-label    amount    fee-label fee\\\";\\n}\\n.transaction-details > *[data-v-5734e36f] {\\n    border-radius: .5rem;\\n    padding: 1rem 1rem .875rem;\\n    border: .25rem solid rgba(255, 255, 255, .15);\\n}\\n.transaction-details.two-line-address-layout .address-label[data-v-5734e36f],\\n.transaction-details .amount-label[data-v-5734e36f],\\n.transaction-details .fee-label[data-v-5734e36f] {\\n    padding-right: 0;\\n    border-right: none;\\n    border-top-right-radius: unset;\\n    border-bottom-right-radius: unset;\\n}\\n.transaction-details.two-line-address-layout .address[data-v-5734e36f],\\n.transaction-details .amount[data-v-5734e36f],\\n.transaction-details .fee[data-v-5734e36f] {\\n    border-left: none;\\n    border-top-left-radius: unset;\\n    border-bottom-left-radius: unset;\\n}\\n.transaction-details:not(.two-line-address-layout) .address-label[data-v-5734e36f] {\\n    border-bottom: none;\\n    border-bottom-left-radius: unset;\\n    border-bottom-right-radius: unset;\\n}\\n.transaction-details:not(.two-line-address-layout) .address[data-v-5734e36f] {\\n    padding-top: .125rem;\\n    border-top: none;\\n    border-top-left-radius: unset;\\n    border-top-right-radius: unset;\\n}\\n.transaction-details .address ~ *[data-v-5734e36f] {\\n    margin-top: 1.5rem;\\n}\\n.transaction-details .fee-label[data-v-5734e36f] {\\n    margin-left: 1.5rem;\\n}\\n.transaction-details label[data-v-5734e36f] {\\n    font-size: 1.5rem;\\n    font-weight: bold;\\n    line-height: 1;\\n    letter-spacing: 0.0875rem;\\n    text-transform: uppercase;\\n    color: rgba(255, 255, 255, .5);\\n}\\n\\n/* Let the browser lazy load the missing glyph for the letter I that is not included in the Fira Mono subset for\\nNimiq addresses (see blocking.css) when we need it to render the ticker \\\"NIM\\\".\\nSee https://jakearchibald.com/2014/minimising-font-downloads/ or https://jakearchibald.com/2017/combining-fonts/ */\\n@font-face {\\n    font-family: 'Fira Mono';\\n    font-style: normal;\\n    font-weight: 400;\\n    font-display: swap;\\n    src: local('Fira Mono Regular'), local('FiraMono-Regular'),\\n        /* Taken from https://fonts.googleapis.com/css2?family=Fira+Mono&text=I */\\n        url(https://fonts.gstatic.com/l/font?kit=N0bX2SlFPv1weGeLZDtQJOzW0A&skey=bb26c8d476ab3f05&v=v9) format('woff2');\\n    unicode-range: U+49; /* capital I */\\n}\\n.transaction-details label + *[data-v-5734e36f] {\\n    font-family: 'Fira Mono', monospace;\\n    font-size: 1.75rem;\\n    line-height: 1;\\n}\\n.wide-page .transaction-details label + *[data-v-5734e36f] {\\n    font-size: 2rem;\\n    line-height: .75;\\n}\\n.transaction-details .address[data-v-5734e36f] {\\n    word-spacing: -.25rem;\\n    white-space: nowrap;\\n}\\n.wide-page  .transaction-details .address[data-v-5734e36f] {\\n    word-spacing: normal;\\n}\\n.transaction-details.two-line-address-layout .address[data-v-5734e36f] {\\n    padding-top: .5rem;\\n    line-height: 1.3;\\n    word-break: break-all;\\n    white-space: normal;\\n}\\n.transaction-details .amount[data-v-5734e36f],\\n.transaction-details .fee[data-v-5734e36f] {\\n    word-spacing: -.375rem;\\n}\\n.transaction-details.shrink-amounts .amount[data-v-5734e36f],\\n.transaction-details.shrink-amounts .fee[data-v-5734e36f] {\\n    letter-spacing: -.125rem;\\n}\\n.transaction-details .address-label[data-v-5734e36f] {\\n    grid-area: address-label;\\n}\\n.transaction-details .address[data-v-5734e36f] {\\n    grid-area: address;\\n}\\n.transaction-details .amount-label[data-v-5734e36f] {\\n    grid-area: amount-label;\\n}\\n.transaction-details .amount[data-v-5734e36f]:not(.fee) {\\n    grid-area: amount;\\n}\\n.transaction-details .fee-label[data-v-5734e36f] {\\n    grid-area: fee-label;\\n}\\n.transaction-details .fee[data-v-5734e36f] {\\n    grid-area: fee;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SetupSwapLedger.vue?vue&type=style&index=0&id=5734e36f&scoped=true&lang=css&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"790f428d\", content, false, {\"sourceMap\":false,\"shadowMode\":false});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SetupSwapLedger.vue?vue&type=style&index=0&id=5734e36f&scoped=true&lang=css&\", function() {\n     var newContent = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SetupSwapLedger.vue?vue&type=style&index=0&id=5734e36f&scoped=true&lang=css&\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","import Config from 'config';\nimport { BTC_NETWORK_TEST } from './BitcoinConstants';\nimport { fetchTransaction } from './ElectrumClient';\nimport { loadBitcoinJS } from './BitcoinJSLoader';\n\n// Import only types to avoid bundling\nimport type { Transaction as BitcoinJsTransaction } from 'bitcoinjs-lib';\nimport type { BitcoinTransactionInfo } from '../../views/SignBtcTransaction.vue';\nimport type { TransactionInfoBitcoin as LedgerBitcoinTransactionInfo } from '@nimiq/ledger-api';\nimport { BitcoinTransactionInputType } from '@nimiq/keyguard-client';\n\n/**\n * Prepare a bitcoin transaction for signing via the Ledger api by enriching it with complete input transactions and\n * output scripts. This is a costly operation as it involves loading BitcoinJS and the electrum api and fetching\n * transactions from the network.\n * @param transactionInfo - Bitcoin transaction info with required input details reduced to transactionHash,\n *   outputIndex, keyPath and optionally witnessScript and sequence.\n * @returns Enriched transaction info that can be passed to LedgerApi.Bitcoin.signTransaction.\n */\nexport async function prepareBitcoinTransactionForLedgerSigning(\n    transactionInfo: Omit<BitcoinTransactionInfo, 'inputs'>\n        & { inputs: Array<\n            Pick<\n                BitcoinTransactionInfo['inputs'][0],\n                'transactionHash' | 'outputIndex' | 'keyPath'\n            > & Partial<Pick<\n                Exclude<BitcoinTransactionInfo['inputs'][0], { type?: BitcoinTransactionInputType.STANDARD }>,\n                'witnessScript' | 'sequence'\n            > >\n        > },\n): Promise<LedgerBitcoinTransactionInfo> {\n    const bitcoinJsPromise = loadBitcoinJS();\n\n    // Fetch whole input transactions for computation of Ledger's trusted inputs.\n    // Fetch them in batches of 10 to avoid too many network requests at once.\n    const inputTransactions: BitcoinJsTransaction[] = [];\n    for (let i = 0; i < transactionInfo.inputs.length; i += 10) {\n        const batch = transactionInfo.inputs.slice(i, i + 10);\n        inputTransactions.push(...await Promise.all(batch.map((input) => fetchTransaction(input.transactionHash))));\n    }\n\n    const inputs: LedgerBitcoinTransactionInfo['inputs'] = transactionInfo.inputs.map((input, i) => ({\n        transaction: inputTransactions[i],\n        index: input.outputIndex,\n        keyPath: input.keyPath,\n        customScript: input.witnessScript,\n        sequence: input.sequence,\n    }));\n\n    // Prepare outputs and pre-calculate output scripts\n    await bitcoinJsPromise;\n    const network = Config.bitcoinNetwork === BTC_NETWORK_TEST\n        ? BitcoinJS.networks.testnet\n        : BitcoinJS.networks.bitcoin;\n    const outputs: LedgerBitcoinTransactionInfo['outputs']  = [{\n        amount: transactionInfo.recipientOutput.value,\n        outputScript: BitcoinJS.address.toOutputScript(\n            transactionInfo.recipientOutput.address,\n            network,\n        ).toString('hex'),\n    }];\n    let changePath: string | undefined;\n    if (transactionInfo.changeOutput) {\n        changePath = transactionInfo.changeOutput.keyPath;\n        outputs.push({\n            amount: transactionInfo.changeOutput.value,\n            outputScript: BitcoinJS.address.toOutputScript(\n                transactionInfo.changeOutput.address,\n                network,\n            ).toString('hex'),\n        });\n    }\n\n    return { inputs, outputs, changePath, locktime: transactionInfo.locktime };\n}\n","import { render, staticRenderFns } from \"./SetupSwapLedger.vue?vue&type=template&id=5734e36f&scoped=true&\"\nimport script from \"./SetupSwapLedger.vue?vue&type=script&lang=ts&\"\nexport * from \"./SetupSwapLedger.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./SetupSwapLedger.vue?vue&type=style&index=0&id=5734e36f&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5734e36f\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Users/iesiyok/projects/acc-js/development/nimiq2/hub/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('5734e36f')) {\n      api.createRecord('5734e36f', component.options)\n    } else {\n      api.reload('5734e36f', component.options)\n    }\n    module.hot.accept(\"./SetupSwapLedger.vue?vue&type=template&id=5734e36f&scoped=true&\", function () {\n      api.rerender('5734e36f', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/views/SetupSwapLedger.vue\"\nexport default component.exports","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/ts-loader/index.js??ref--12-1!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SetupSwapLedger.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/ts-loader/index.js??ref--12-1!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SetupSwapLedger.vue?vue&type=script&lang=ts&\"","import mod from \"-!../../node_modules/vue-style-loader/index.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SetupSwapLedger.vue?vue&type=style&index=0&id=5734e36f&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/vue-style-loader/index.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SetupSwapLedger.vue?vue&type=style&index=0&id=5734e36f&scoped=true&lang=css&\"","export * from \"-!../../node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"3e5283d1-vue-loader-template\\\"}!../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SetupSwapLedger.vue?vue&type=template&id=5734e36f&scoped=true&\""],"sourceRoot":""}