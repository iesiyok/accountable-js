{"version":3,"sources":["sources://./node_modules/@nimiq/ledger-api/dist/high-level-api/lazy-chunk-request-get-public-key-nimiq.es.js","sources://./node_modules/@nimiq/ledger-api/dist/high-level-api/lazy-chunk-request-with-key-path-nimiq.es.js"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8F;AACxC;AACZ;AACN;;AAEpC,uCAAuC,+EAAuB;AAC9D;AACA,qBAAqB,kEAAgB;AACrC,0CAA0C,OAAO;AACjD;AACA;AACA,uCAAuC,EAAE;AACzC;AACA;AACA,0DAA0D;AAC1D,eAAe,YAAY;AAC3B;AACA,8CAA8C;AAC9C;AACA;AACA;;AAEe,uFAAwB,EAAC;AACxC;;;;;;;;;;;;;ACvBA;AAAA;AAAA;AAAA;AAAqE;AACY;;AAEjF,sCAAsC,iEAAY;AAClD,oEAAoE;AACpE;AACA;AACA;AACA,gBAAgB,wEAAc,mBAAmB,sDAAI;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,4DAAU,CAAC,2DAAS,8CAA8C,QAAQ,IAAI,eAAe;AACnH;AACA;AACA;;AAEwC;AACxC","file":"js/23-legacy.js","sourcesContent":["import { R as RequestWithKeyPathNimiq } from './lazy-chunk-request-with-key-path-nimiq.es.js';\nimport { RequestTypeNimiq } from './ledger-api.es.js';\nimport './lazy-chunk-request-nimiq.es.js';\nimport './lazy-chunk-request.es.js';\n\nclass RequestGetPublicKeyNimiq extends RequestWithKeyPathNimiq {\n    constructor(keyPath, expectedWalletId) {\n        const type = RequestTypeNimiq.GET_PUBLIC_KEY;\n        super(keyPath, expectedWalletId, { type });\n        this.type = type;\n        // Preload Nimiq lib. Ledger Nimiq api is already preloaded by parent class. Ignore errors.\n        this._loadNimiq().catch(() => { });\n    }\n    async call(transport) {\n        const api = await this._getLowLevelApi(transport); // throws LOADING_DEPENDENCIES_FAILED on failure\n        const { publicKey } = await api.getPublicKey(this.keyPath, true, // validate\n        false);\n        const Nimiq = await this._loadNimiq(); // throws LOADING_DEPENDENCIES_FAILED on failure\n        return new Nimiq.PublicKey(publicKey);\n    }\n}\n\nexport default RequestGetPublicKeyNimiq;\n//# sourceMappingURL=lazy-chunk-request-get-public-key-nimiq.es.js.map\n","import { R as RequestNimiq } from './lazy-chunk-request-nimiq.es.js';\nimport { parseBip32Path, Coin, ErrorState, ErrorType } from './ledger-api.es.js';\n\nclass RequestWithKeyPathNimiq extends RequestNimiq {\n    constructor(keyPath, expectedWalletId, childClassProperties = {}) {\n        super(expectedWalletId);\n        this.keyPath = keyPath;\n        try {\n            if (parseBip32Path(keyPath).coin !== Coin.NIMIQ)\n                throw new Error('Not a Nimiq bip32 path');\n        }\n        catch (e) {\n            // Set properties of child class such that these are present on the request in the thrown error state.\n            for (const [key, value] of Object.entries(childClassProperties)) {\n                this[key] = value;\n            }\n            throw new ErrorState(ErrorType.REQUEST_ASSERTION_FAILED, `Invalid keyPath ${keyPath}: ${e.message || e}`, this);\n        }\n    }\n}\n\nexport { RequestWithKeyPathNimiq as R };\n//# sourceMappingURL=lazy-chunk-request-with-key-path-nimiq.es.js.map\n"],"sourceRoot":""}