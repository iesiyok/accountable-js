{"version":3,"sources":["sources://./src/views/Rename.vue","webpack-generated:///./src/views/Rename.vue?bf86","webpack-generated:///./src/views/Rename.vue?6a31","webpack-generated:///./src/views/Rename.vue?e454","webpack-generated:///./src/views/Rename.vue?212d","webpack:///./src/views/Rename.vue?4ff3","webpack-generated:///./src/views/Rename.vue?6c16","webpack-generated:///./src/views/Rename.vue?8af5"],"names":[],"mappings":"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","file":"js/rename.js","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from 'vue-property-decorator';\nimport { AccountRing, AccountList, SmallPage, PageHeader, PageBody, PageFooter } from '@nimiq/vue-components';\nimport Input from '../components/Input.vue';\nimport { ParsedRenameRequest } from '../lib/RequestTypes';\nimport { Account } from '../lib/PublicRequestTypes';\nimport StatusScreen from '../components/StatusScreen.vue';\nimport GlobalClose from '../components/GlobalClose.vue';\nimport { WalletInfo } from '../lib/WalletInfo';\nimport { WalletType } from '../lib/Constants';\nimport { WalletStore } from '@/lib/WalletStore';\nimport { Static } from '../lib/StaticStore';\n\n/*\n    In Case some sort auf Authentication with the wallet is desireable, there are 2 options:\n        1.  is to have the user enter the password at the very beginning. This would require the Hub to\n            first redirect to the Keyguard. After returning and validating (sign message) this component would come\n            into view.\n        2.  is to have the user enter his Password as confirmation of the changes (sign message and validate). That\n            would move the storeLabels function into a RenameSuccess Component where the store and return happens.\n*/\n\n@Component({components: {\n        AccountRing,\n        AccountList,\n        SmallPage,\n        PageHeader,\n        PageBody,\n        PageFooter,\n        Input,\n        StatusScreen,\n        GlobalClose,\n    }})\nexport default class Rename extends Vue {\n    @Static private request!: ParsedRenameRequest;\n\n    private wallet: WalletInfo | null = null;\n    private labelsStored: boolean = false;\n\n    private async mounted() {\n        this.wallet = (await WalletStore.Instance.get(this.request.walletId))!;\n\n        // Wait for the next tick to update the DOM, then focus the correct label\n        Vue.nextTick(this.focusElement);\n    }\n\n    private focusElement() {\n        if (this.request.address) { // Account with address this.request.address was selected\n            const el = (this.$refs.accountList as AccountList);\n            el.focus(this.request.address);\n        } else { // A wallet was selected\n            if (this.wallet!.type !== WalletType.LEGACY) {\n                const el = (this.$refs.wallet as Input);\n                el.focus();\n            }\n        }\n    }\n\n    private get accountsAndContractsArray() {\n        if (!this.wallet) return [];\n        return [\n            ...this.wallet.accounts.values(),\n            ...this.wallet.contracts,\n        ];\n    }\n\n    private get addressesArray() {\n        return this.accountsAndContractsArray.map((acc) => acc.userFriendlyAddress);\n    }\n\n    private accountChanged(address: string, label: string) {\n        const addressInfo = this.wallet!.accounts.get(address);\n        if (addressInfo) {\n            addressInfo.label = label || addressInfo.defaultLabel;\n            this.wallet!.accounts.set(address, addressInfo);\n            return;\n        }\n        const contractInfo = this.wallet!.findContractByAddress(Nimiq.Address.fromString(address));\n        if (contractInfo) {\n            contractInfo.label = label || contractInfo.defaultLabel;\n            this.wallet!.setContract(contractInfo);\n            return;\n        }\n\n        throw new Error('UNEXPECTED: Address that was changed does not exist');\n    }\n\n    private onWalletLabelChange(label: string) {\n        this.wallet!.label = label || this.wallet!.defaultLabel;\n    }\n\n    private storeLabels() {\n        WalletStore.Instance.put(this.wallet!);\n        this.labelsStored = true;\n\n        setTimeout(() => this.done(), StatusScreen.SUCCESS_REDIRECT_DELAY);\n    }\n\n    private async done() {\n        const result: Account = await this.wallet!.toAccountType();\n        this.$rpc.resolve(result);\n    }\n}\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"container\" },\n    [\n      _c(\n        \"SmallPage\",\n        { staticClass: \"rename\" },\n        [\n          _c(\"PageHeader\", [_vm._v(_vm._s(_vm.$t(\"Rename Account\")))]),\n          _vm.wallet\n            ? _c(\n                \"PageBody\",\n                [\n                  _vm.wallet.type !== 1 /* LEGACY */\n                    ? _c(\n                        \"div\",\n                        { staticClass: \"wallet-label\" },\n                        [\n                          _c(\"AccountRing\", {\n                            attrs: { addresses: _vm.addressesArray }\n                          }),\n                          _c(\"Input\", {\n                            ref: \"wallet\",\n                            attrs: {\n                              value: _vm.wallet.label,\n                              placeholder: _vm.wallet.defaultLabel\n                            },\n                            on: { changed: _vm.onWalletLabelChange }\n                          })\n                        ],\n                        1\n                      )\n                    : _vm._e(),\n                  _c(\"AccountList\", {\n                    ref: \"accountList\",\n                    attrs: {\n                      walletId: _vm.wallet.id,\n                      accounts: _vm.accountsAndContractsArray,\n                      editable: true\n                    },\n                    on: { \"account-changed\": _vm.accountChanged }\n                  })\n                ],\n                1\n              )\n            : _vm._e(),\n          _c(\"PageFooter\", [\n            _c(\n              \"button\",\n              {\n                staticClass: \"nq-button light-blue\",\n                on: { click: _vm.storeLabels }\n              },\n              [_vm._v(_vm._s(_vm.$t(\"Save\")))]\n            )\n          ]),\n          _vm.labelsStored\n            ? _c(\"StatusScreen\", {\n                staticClass: \"grow-from-bottom-button\",\n                attrs: { state: \"success\", title: _vm.$t(\"All labels saved.\") }\n              })\n            : _vm._e()\n        ],\n        1\n      ),\n      _c(\"GlobalClose\", { attrs: { hidden: _vm.labelsStored } })\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"\\n.rename[data-v-5a990a10] {\\n    position: relative;\\n}\\n.page-body[data-v-5a990a10] {\\n    padding: 0;\\n}\\n.wallet-icon[data-v-5a990a10] {\\n    width: 3rem;\\n    height: 3rem;\\n    margin-right: 1rem;\\n}\\n.wallet-label[data-v-5a990a10] {\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    -webkit-box-orient: horizontal;\\n    -webkit-box-direction: normal;\\n        -ms-flex-direction: row;\\n            flex-direction: row;\\n    -webkit-box-pack: center;\\n        -ms-flex-pack: center;\\n            justify-content: center;\\n    -webkit-box-align: center;\\n        -ms-flex-align: center;\\n            align-items: center;\\n    font-size: 2.25rem;\\n    line-height: 2.5rem;\\n    font-weight: 500;\\n    margin: 0 3rem;\\n    padding: 2rem 1rem;\\n}\\n[data-v-5a990a10] .label-input {\\n    font-weight: 600;\\n}\\n.wallet-label .label-input[data-v-5a990a10] {\\n    font-weight: bold;\\n    font-size: 2.5rem;\\n}\\n[data-v-5a990a10] .label-input input {\\n    padding: .5rem 0 .5rem 1rem;\\n}\\n[data-v-5a990a10] .label-input .width-finder {\\n    padding: 0 1.25rem; /* input padding + border-width */\\n}\\n[data-v-5a990a10] .amount {\\n    display: none; /* Hide balances in list, as they may be terribly out-of-date */\\n}\\n.account-ring[data-v-5a990a10] {\\n    margin-right: 2rem;\\n    -ms-flex-negative: 0;\\n        flex-shrink: 0;\\n}\\n.status-screen[data-v-5a990a10] {\\n    white-space: nowrap;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Rename.vue?vue&type=style&index=0&id=5a990a10&scoped=true&lang=css&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"af8ae4b4\", content, false, {\"sourceMap\":false,\"shadowMode\":false});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Rename.vue?vue&type=style&index=0&id=5a990a10&scoped=true&lang=css&\", function() {\n     var newContent = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Rename.vue?vue&type=style&index=0&id=5a990a10&scoped=true&lang=css&\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","import { render, staticRenderFns } from \"./Rename.vue?vue&type=template&id=5a990a10&scoped=true&\"\nimport script from \"./Rename.vue?vue&type=script&lang=ts&\"\nexport * from \"./Rename.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Rename.vue?vue&type=style&index=0&id=5a990a10&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5a990a10\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Users/iesiyok/projects/acc-js/development/nimiq2/hub/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('5a990a10')) {\n      api.createRecord('5a990a10', component.options)\n    } else {\n      api.reload('5a990a10', component.options)\n    }\n    module.hot.accept(\"./Rename.vue?vue&type=template&id=5a990a10&scoped=true&\", function () {\n      api.rerender('5a990a10', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/views/Rename.vue\"\nexport default component.exports","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/ts-loader/index.js??ref--12-1!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Rename.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/ts-loader/index.js??ref--12-1!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Rename.vue?vue&type=script&lang=ts&\"","import mod from \"-!../../node_modules/vue-style-loader/index.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Rename.vue?vue&type=style&index=0&id=5a990a10&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/vue-style-loader/index.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Rename.vue?vue&type=style&index=0&id=5a990a10&scoped=true&lang=css&\"","export * from \"-!../../node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"3e5283d1-vue-loader-template\\\"}!../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Rename.vue?vue&type=template&id=5a990a10&scoped=true&\""],"sourceRoot":""}