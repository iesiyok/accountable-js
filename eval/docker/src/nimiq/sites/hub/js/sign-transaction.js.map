{"version":3,"sources":["sources://./src/views/SignTransaction.vue","sources://./src/views/SignTransactionSuccess.vue","webpack-generated:///./src/views/SignTransaction.vue?e5f9","webpack-generated:///./src/views/SignTransactionSuccess.vue?ee80","webpack-generated:///./src/views/SignTransaction.vue?db93","webpack:///./src/views/SignTransaction.vue?24ef","webpack-generated:///./src/views/SignTransaction.vue?b445","webpack-generated:///./src/views/SignTransactionSuccess.vue?6f6e","webpack:///./src/views/SignTransactionSuccess.vue?d021","webpack-generated:///./src/views/SignTransactionSuccess.vue?90d0"],"names":[],"mappings":"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","file":"js/sign-transaction.js","sourcesContent":["\n\n\nimport { Component, Vue } from 'vue-property-decorator';\nimport { ParsedSignTransactionRequest } from '../lib/RequestTypes';\nimport KeyguardClient from '@nimiq/keyguard-client';\nimport staticStore, { Static } from '../lib/StaticStore';\nimport { WalletInfo } from '../lib/WalletInfo';\nimport { Getter } from 'vuex-class';\n\n@Component\nexport default class SignTransaction extends Vue {\n    @Static private request!: ParsedSignTransactionRequest;\n    @Getter private findWalletByAddress!: (address: string, includeContracts: boolean) => WalletInfo | undefined;\n\n    public async created() {\n        // Forward user through Hub to Keyguard\n\n        let senderAddress: Nimiq.Address;\n        let senderLabel: string | undefined;\n        let senderType: Nimiq.Account.Type | undefined;\n        let keyId: string;\n        let keyPath: string;\n        let keyLabel: string | undefined;\n\n        if (this.request.sender instanceof Nimiq.Address) {\n            // existence checked in RpcApi\n            const senderAccount = this.findWalletByAddress(this.request.sender.toUserFriendlyAddress(), true)!;\n            const senderContract = senderAccount.findContractByAddress(this.request.sender);\n            const signer = senderAccount.findSignerForAddress(this.request.sender)!;\n\n            senderAddress = this.request.sender;\n            senderLabel = (senderContract || signer).label;\n            senderType = senderContract ? senderContract.type : Nimiq.Account.Type.BASIC;\n            keyId = senderAccount.keyId;\n            keyPath = signer.path;\n            keyLabel = senderAccount.labelForKeyguard;\n        } else {\n            ({\n                address: senderAddress,\n                label: senderLabel,\n                type: senderType,\n                signerKeyId: keyId,\n                signerKeyPath: keyPath,\n                walletLabel: keyLabel,\n            } = this.request.sender);\n        }\n\n        const request: KeyguardClient.SignTransactionRequest = {\n            layout: 'standard',\n            appName: this.request.appName,\n\n            keyId,\n            keyPath,\n            keyLabel,\n\n            sender: senderAddress.serialize(),\n            senderLabel,\n            senderType: senderType || Nimiq.Account.Type.BASIC,\n            recipient: this.request.recipient.serialize(),\n            recipientType: this.request.recipientType,\n            recipientLabel: this.request.recipientLabel,\n            value: this.request.value,\n            fee: this.request.fee,\n            validityStartHeight: this.request.validityStartHeight,\n            data: this.request.data,\n            flags: this.request.flags,\n        };\n\n        staticStore.keyguardRequest = request;\n\n        const client = this.$rpc.createKeyguardClient(true);\n        client.signTransaction(request);\n    }\n}\n","\n\n\n\n\nimport { Component, Vue } from 'vue-property-decorator';\nimport Network from '@/components/Network.vue';\nimport { SignedTransaction } from '../lib/PublicRequestTypes';\nimport { State } from 'vuex-class';\nimport { Static } from '../lib/StaticStore';\nimport KeyguardClient from '@nimiq/keyguard-client';\n\n@Component({components: {Network}})\nexport default class SignTransactionSuccess extends Vue {\n    @Static private keyguardRequest!: KeyguardClient.SignTransactionRequest;\n    @State private keyguardResult!: KeyguardClient.SignTransactionResult;\n\n    private async mounted() {\n        const tx = await (this.$refs.network as Network).createTx(Object.assign({\n            signerPubKey: this.keyguardResult.publicKey,\n        }, this.keyguardResult, this.keyguardRequest));\n        const result: SignedTransaction = await (this.$refs.network as Network).makeSignTransactionResult(tx);\n\n        this.$rpc.resolve(result);\n    }\n}\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\")\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"Network\", { ref: \"network\", attrs: { visible: false } })\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./SignTransaction.vue?vue&type=template&id=29609517&\"\nimport script from \"./SignTransaction.vue?vue&type=script&lang=ts&\"\nexport * from \"./SignTransaction.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Users/iesiyok/projects/acc-js/development/nimiq2/hub/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('29609517')) {\n      api.createRecord('29609517', component.options)\n    } else {\n      api.reload('29609517', component.options)\n    }\n    module.hot.accept(\"./SignTransaction.vue?vue&type=template&id=29609517&\", function () {\n      api.rerender('29609517', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/views/SignTransaction.vue\"\nexport default component.exports","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/ts-loader/index.js??ref--12-1!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignTransaction.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/ts-loader/index.js??ref--12-1!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignTransaction.vue?vue&type=script&lang=ts&\"","export * from \"-!../../node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"3e5283d1-vue-loader-template\\\"}!../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignTransaction.vue?vue&type=template&id=29609517&\"","import { render, staticRenderFns } from \"./SignTransactionSuccess.vue?vue&type=template&id=26adfcc8&\"\nimport script from \"./SignTransactionSuccess.vue?vue&type=script&lang=ts&\"\nexport * from \"./SignTransactionSuccess.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Users/iesiyok/projects/acc-js/development/nimiq2/hub/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('26adfcc8')) {\n      api.createRecord('26adfcc8', component.options)\n    } else {\n      api.reload('26adfcc8', component.options)\n    }\n    module.hot.accept(\"./SignTransactionSuccess.vue?vue&type=template&id=26adfcc8&\", function () {\n      api.rerender('26adfcc8', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/views/SignTransactionSuccess.vue\"\nexport default component.exports","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/ts-loader/index.js??ref--12-1!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignTransactionSuccess.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/ts-loader/index.js??ref--12-1!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignTransactionSuccess.vue?vue&type=script&lang=ts&\"","export * from \"-!../../node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"3e5283d1-vue-loader-template\\\"}!../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignTransactionSuccess.vue?vue&type=template&id=26adfcc8&\""],"sourceRoot":""}