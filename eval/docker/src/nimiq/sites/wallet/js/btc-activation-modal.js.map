{"version":3,"file":"js/btc-activation-modal.js","mappings":"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","sources":["webpack://@nimiq/wallet/./src/components/modals/BtcActivationModal.vue","webpack://@nimiq/wallet/./src/components/modals/BtcActivationModal.vue?9fca","webpack://@nimiq/wallet/./src/components/modals/BtcActivationModal.vue?5475","webpack://@nimiq/wallet/./src/components/modals/BtcActivationModal.vue?2618","webpack://@nimiq/wallet/./src/components/modals/BtcActivationModal.vue?e698","webpack://@nimiq/wallet/./src/components/modals/BtcActivationModal.vue?b9c9","webpack://@nimiq/wallet/./src/components/modals/BtcActivationModal.vue?abaf","webpack://@nimiq/wallet/./src/components/modals/BtcActivationModal.vue?df9b"],"sourcesContent":["import { render, staticRenderFns } from \"./BtcActivationModal.vue?vue&type=template&id=25a86aaf&scoped=true&\"\nimport script from \"./BtcActivationModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./BtcActivationModal.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./BtcActivationModal.vue?vue&type=style&index=0&id=25a86aaf&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"25a86aaf\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Users/iesiyok/projects/acc-js/development/nimiq2/wallet/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('25a86aaf')) {\n      api.createRecord('25a86aaf', component.options)\n    } else {\n      api.reload('25a86aaf', component.options)\n    }\n    module.hot.accept(\"./BtcActivationModal.vue?vue&type=template&id=25a86aaf&scoped=true&\", function () {\n      api.rerender('25a86aaf', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/components/modals/BtcActivationModal.vue\"\nexport default component.exports","export * from \"-!../../../node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BtcActivationModal.vue?vue&type=template&id=25a86aaf&scoped=true&\"","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BtcActivationModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BtcActivationModal.vue?vue&type=script&lang=ts&\"","export * from \"-!../../../node_modules/vue-style-loader/index.js??clonedRuleSet-22[0].rules[0].use[0]!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[2]!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[3]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BtcActivationModal.vue?vue&type=style&index=0&id=25a86aaf&lang=scss&scoped=true&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"Modal\",\n    _vm._g(\n      _vm._b(\n        { ref: \"$modal\", staticClass: \"btc-activation-modal\" },\n        \"Modal\",\n        _vm.$attrs,\n        false\n      ),\n      _vm.$listeners\n    ),\n    [\n      _c(\n        \"PageBody\",\n        { staticClass: \"flex-column\" },\n        [\n          _c(\"BitcoinIcon\"),\n          _vm.hasBitcoinAddresses\n            ? _c(\"h1\", { staticClass: \"nq-h1\" }, [\n                _vm._v(_vm._s(_vm.$t(\"Your account now\\nsupports Bitcoin!\")))\n              ])\n            : _c(\"h1\", { staticClass: \"nq-h1\" }, [\n                _vm._v(_vm._s(_vm.$t(\"Add Bitcoin\\nto your account\")))\n              ]),\n          _c(\"p\", { staticClass: \"nq-text\" }, [\n            _vm._v(\n              \" \" +\n                _vm._s(\n                  _vm.$t(\n                    \"Easily swap between NIM, the super performant payment coin \" +\n                      \"and BTC, the gold standard of crypto.\"\n                  )\n                ) +\n                \" \"\n            )\n          ]),\n          _c(\"p\", { staticClass: \"nq-text\" }, [\n            _vm._v(\n              \" \" + _vm._s(_vm.$t(\"Or buy BTC directly in the wallet.\")) + \" \"\n            )\n          ]),\n          _c(\"div\", { staticClass: \"flex-grow\" }),\n          _vm.hasBitcoinAddresses\n            ? _c(\n                \"button\",\n                {\n                  staticClass: \"nq-button light-blue\",\n                  on: {\n                    click: _vm.close,\n                    mousedown: function($event) {\n                      $event.preventDefault()\n                    }\n                  }\n                },\n                [_vm._v(\" \" + _vm._s(_vm.$t(\"Got it\")) + \" \")]\n              )\n            : _c(\n                \"button\",\n                {\n                  staticClass: \"nq-button light-blue\",\n                  on: {\n                    click: _vm.enableBitcoin,\n                    mousedown: function($event) {\n                      $event.preventDefault()\n                    }\n                  }\n                },\n                [_vm._v(\" \" + _vm._s(_vm.$t(\"Activate Bitcoin\")) + \" \")]\n              ),\n          !_vm.hasBitcoinAddresses\n            ? _c(\"a\", { staticClass: \"nq-link\", on: { click: _vm.close } }, [\n                _vm._v(_vm._s(_vm.$t(\"Skip for now\")))\n              ])\n            : _vm._e()\n        ],\n        1\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { defineComponent, ref } from '@vue/composition-api';\nimport { PageBody } from '@nimiq/vue-components';\nimport Modal from './Modal.vue';\nimport BitcoinIcon from '../icons/BitcoinIcon.vue';\nimport { activateBitcoin } from '../../hub';\nimport { CryptoCurrency } from '../../lib/Constants';\nimport { useAccountStore } from '../../stores/Account';\nimport { useWindowSize } from '../../composables/useWindowSize';\n\nexport default defineComponent({\n    setup(props, context) {\n        const { activeAccountId, setActiveCurrency, hasBitcoinAddresses } = useAccountStore();\n\n        const { isMobile } = useWindowSize();\n\n        const $modal = ref<any | null>(null);\n\n        async function enableBitcoin() {\n            await activateBitcoin(activeAccountId.value!);\n            if (!hasBitcoinAddresses.value) return;\n            setActiveCurrency(CryptoCurrency.BTC);\n            await close();\n        }\n\n        async function close() {\n            // check for a redirect set by the Bitcoin activation navigation guard in router.ts\n            let redirect: string | undefined;\n            try {\n                const hashParams = new URLSearchParams(context.root.$route.hash.substring(1));\n                redirect = decodeURIComponent(hashParams.get('redirect') || '');\n            } catch (e) {} // eslint-disable-line no-empty\n\n            if (hasBitcoinAddresses.value && redirect) {\n                // The redirect is interpreted as a path and there is no risk of getting redirected to another domain by\n                // a malicious link.\n                await context.root.$router.push(redirect);\n            } else {\n                await $modal.value!.forceClose();\n                if (!isMobile.value || !hasBitcoinAddresses.value) return;\n                // On mobile, forward to the Bitcoin transactions overview, after Bitcoin got activated and the\n                // redirects by forceClose finished.\n                await context.root.$router.push('/transactions');\n            }\n        }\n\n        return {\n            hasBitcoinAddresses,\n            $modal,\n            enableBitcoin,\n            close,\n        };\n    },\n    components: {\n        Modal,\n        PageBody,\n        BitcoinIcon,\n    },\n});\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_GET_URL_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/getUrl.js\";\nvar ___CSS_LOADER_URL_IMPORT_0___ = new URL(\"../../assets/bitcoin-activation-background.png\", import.meta.url);\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".modal[data-v-25a86aaf]  .small-page {\\n  text-align: center;\\n  background-image: url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \");\\n  background-position: bottom right;\\n  background-repeat: no-repeat;\\n  background-size: auto 532px;\\n  width: 91rem;\\n}\\n.modal[data-v-25a86aaf]  .close-button {\\n  display: none;\\n}\\n.page-body[data-v-25a86aaf] {\\n  align-items: center;\\n  padding-top: 8rem;\\n  width: 52.5rem;\\n  max-width: 100%;\\n}\\nsvg[data-v-25a86aaf] {\\n  width: 96px;\\n  height: 96px;\\n  color: var(--bitcoin-orange);\\n}\\n.nq-h1[data-v-25a86aaf] {\\n  margin-top: 4rem;\\n  margin-bottom: 2.25rem;\\n  white-space: pre-line;\\n}\\n.nq-text[data-v-25a86aaf] {\\n  color: var(--nimiq-blue);\\n  margin: 0 0 2rem;\\n  max-width: 34.5rem;\\n  white-space: pre-line;\\n}\\n.nq-link[data-v-25a86aaf] {\\n  font-weight: 600;\\n  font-size: var(--small-size);\\n  color: var(--text-60);\\n  margin-bottom: -1.5rem;\\n}\\n.nq-button[data-v-25a86aaf] {\\n  margin-left: 2rem;\\n  margin-right: 2rem;\\n  align-self: stretch;\\n}\\n@media (max-width: 730px) {\\n.modal[data-v-25a86aaf]  .small-page {\\n    width: 52.5rem;\\n    background-image: none;\\n}\\n}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[2]!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[3]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BtcActivationModal.vue?vue&type=style&index=0&id=25a86aaf&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"58dd2dac\", content, false, {\"sourceMap\":false,\"shadowMode\":false});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[2]!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[3]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BtcActivationModal.vue?vue&type=style&index=0&id=25a86aaf&lang=scss&scoped=true&\", function() {\n     var newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[2]!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[3]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BtcActivationModal.vue?vue&type=style&index=0&id=25a86aaf&lang=scss&scoped=true&\");\n     if(newContent.__esModule) newContent = newContent.default;\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}"],"names":["defineComponent","ref","PageBody","Modal","BitcoinIcon","activateBitcoin","CryptoCurrency","useAccountStore","useWindowSize","setup","props","context","activeAccountId","setActiveCurrency","hasBitcoinAddresses","isMobile","$modal","enableBitcoin","value","BTC","close","redirect","hashParams","URLSearchParams","root","$route","hash","substring","decodeURIComponent","get","e","$router","push","forceClose","components"],"sourceRoot":""}